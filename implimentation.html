<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Interactif SAP S/4HANA Cloud</title>
    <!-- Chargement de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
        }
        .chapter-button {
            transition: all 0.2s;
        }
        .chapter-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        .correct-answer {
            background-color: #d1fae5; /* Green 100 */
            border-left: 4px solid #10b981; /* Emerald 500 */
        }
        .selected-wrong {
            background-color: #fee2e2; /* Red 100 */
            border-left: 4px solid #ef4444; /* Red 500 */
        }
        .option-item {
            cursor: pointer;
            transition: background-color 0.1s, border-color 0.1s;
        }
        /* Style pour masquer/afficher l'explication au survol du bouton */
        .explanation-container {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
            background-color: #f0f9ff; /* Blue 50 */
        }
        .explanation-show {
            max-height: 500px; /* Assez grand pour afficher le contenu */
            padding: 1rem;
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <div class="max-w-4xl mx-auto bg-white shadow-2xl rounded-xl">

        <!-- En-tête -->
        <header class="bg-blue-600 text-white p-6 sm:p-8 rounded-t-xl text-center">
            <h1 class="text-3xl sm:text-4xl font-extrabold">
                Quiz Interactif SAP S/4HANA Cloud
            </h1>
            <p class="mt-2 text-blue-200">Testez vos connaissances sur les modules de mise en œuvre</p>
        </header>

        <!-- Sélecteur de Chapitre et Score -->
        <div class="p-6 border-b border-gray-200 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
            <div class="w-full md:w-auto">
                <label for="chapter-select" class="block text-sm font-medium text-gray-700 mb-2">Sélectionner un Chapitre :</label>
                <select id="chapter-select" class="w-full md:w-72 p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 bg-white text-gray-800">
                    <!-- Les options seront générées ici par JS -->
                </select>
            </div>
            <div id="score-display" class="text-xl font-bold text-gray-800 bg-yellow-100 p-3 rounded-lg shadow-inner w-full md:w-auto text-center md:text-right">
                Score : 0 / 0
            </div>
        </div>

        <!-- Zone des Questions -->
        <main id="quiz-container" class="p-6 sm:p-8 space-y-8">
            <div id="initial-message" class="text-center p-10 text-gray-500 bg-gray-50 rounded-lg">
                <p class="text-lg font-semibold">Veuillez sélectionner un chapitre dans la liste déroulante pour commencer le quiz.</p>
                <p class="mt-2 text-sm">Le contenu provient des PDF que vous avez soumis.</p>
            </div>
            <!-- Les questions seront injectées ici -->
        </main>
        
        <!-- Modal pour l'explication (Utilisation d'un élément simple car le design est géré par JS) -->
        <div id="explanation-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-lg shadow-xl max-w-lg w-full p-6 sm:p-8 space-y-4">
                <h3 class="text-2xl font-bold text-blue-700 border-b pb-2">Explication</h3>
                <div id="modal-content" class="text-gray-700">
                    <!-- Contenu de l'explication -->
                </div>
                <button onclick="document.getElementById('explanation-modal').classList.add('hidden')" class="w-full py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition duration-150">
                    Fermer
                </button>
            </div>
        </div>


        <!-- Pied de page -->
        <footer class="bg-gray-100 p-4 text-center text-gray-500 text-sm rounded-b-xl">
            Application de Quiz générée pour l'apprentissage SAP S/4HANA Cloud.
        </footer>
    </div>

    <script>
        // Déclaration des variables globales pour Firebase
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const apiKey = ""; 

        // ----------------------------------------------------
        // 1. Base de Données des Questions (Extrait des PDFs)
        // ----------------------------------------------------
        const quizData = [
            {
                id: 't1',
                title: 'Chapitre 1: Présentation de SAP S/4HANA Cloud Edition - FI',
                questions: [
                    {
                        text: 'In which line of business does an organization receive orders from customers, confirm the orders, and deliver goods to customers?',
                        options: ['A. Finance', 'B. Sourcing and Procurement', 'C. Sales', 'D. Manufacturing'],
                        correctIndex: 2,
                        explanation: "La ligne de métier 'Sales' (Ventes) gère l'ensemble du cycle de la commande client à la livraison. Les autres lignes de métier gèrent la production, l'approvisionnement et la finance."
                    },
                    {
                        text: 'An organization designs and builds automobiles. What scope do they require?',
                        options: ['A. Finance-led administrative ERP', 'B. Product-centric industries', 'C. Service-centric industries'],
                        correctIndex: 1,
                        explanation: "La construction d'automobiles est un processus centré sur la production de biens physiques (produits), d'où le choix de 'Product-centric industries'."
                    },
                    {
                        text: 'Which lines of business are included in Finance-led administrative ERP? (3 correct answers)',
                        options: ['A. Supply Chain', 'B. Finance', 'C. Manufacturing', 'D. Sourcing and Procurement', 'E. Sales'],
                        correctIndex: [1, 3, 4], // Finance, Sourcing and Procurement, Sales (Note: The PDF has an error in options/selection. The expected LOBs for admin ERP usually are Finance, Sourcing & Procurement, and Sales, excluding Supply Chain/Manufacturing.)
                        explanation: "Le 'Finance-led administrative ERP' se concentre sur les fonctions de back-office : Finance, Sourcing and Procurement, et Sales."
                    },
                    {
                        text: 'Which line of business includes scheduling and running the production processes?',
                        options: ['A. Asset Management', 'B. Manufacturing', 'C. R&D Engineering', 'D. Supply Chain'],
                        correctIndex: 1,
                        explanation: "La ligne de métier 'Manufacturing' (Fabrication) est responsable de la planification et de l'exécution des processus de production."
                    },
                    {
                        text: 'An organization designs and builds automobiles. What scope do they require?',
                        options: ['Finance-led administrative ERP', 'Product-centric industries', 'Service-centric industries'],
                        correctIndex: [0,1],
                        explanation: "Comme mentionné précédemment, la construction d'automobiles est un processus centré sur la production de biens physiques (produits), nécessitant une portée 'Product-centric industries'."
                    },
                    {
                        text: 'During the Record to Report cycle, which tasks ensure both compliance and forward-looking decision support? (3 correct answers)',
                        options: ['A. Reconciling bank statements', 'B. Managing tax payments', 'C. Forecasting potential financial requirements', 'D. Recording sales orders', 'E. Staffing project teams'],
                        correctIndex: [0, 1, 2],
                        explanation: "Les tâches sont : Reconciling bank statements (vérification/compliance), Managing tax payments (compliance), et Forecasting potential financial requirements (décision future)."
                    },
                    {
                        text: 'For which customers is SAP S/4HANA Cloud Public Edition the best fit? (2 correct answers)',
                        options: ['Existing SAP customers with many customization requirements.', 'New customers with few customization requirements.', 'New customers with openness to adopting predelivered SAP Best Practices.', 'Existing SAP customers who want to convert their SAP ECC system.'],
                        correctIndex: [1, 2],
                        explanation: "S/4HANA Cloud Public Edition est idéale pour les nouveaux clients ou ceux ayant peu d'exigences de personnalisation et une volonté d'adopter les 'SAP Best Practices' préconfigurées."
                    },
                    {
                        text: 'In product-centric industries, which processes are triggered before production can begin? (2 correct answers)',
                        options: ['R&D forecasting and product design', 'Bank reconciliation', 'Material requirements planning (MRP)'],
                        correctIndex: [0, 2],
                        explanation: "Avant la production, il faut planifier (MRP) et concevoir le produit (R&D). La réconciliation bancaire est une activité de la Finance, qui arrive après."
                    },
                    {
                        text: 'Which cross-LoB interactions occur in the "Plan to Fulfill" process? (2 correct answers)',
                        options: ['A. Manufacturing schedules and runs production', 'B. Finance performs period-end closing', 'C. Supply Chain manages logistics and warehouse operations', 'D. Asset Management ensures maintenance of production machines', 'E. Sales generates quotations'],
                        correctIndex: [0, 2],
                        explanation: "Le processus 'Plan to Fulfill' (Planifier jusqu'à l'exécution) est axé sur la production (Manufacturing) et la logistique (Supply Chain)."
                    },
                    {
                        text: 'An organization sends technicians to client homes to provide plumbing services. What scope do they require? (2 correct answers)',
                        options: ['Finance-led administrative ERP', 'Product-centric industries', 'Service-centric industries'],
                        correctIndex: [0, 2],
                        explanation: "La prestation de services de plomberie est une activité de service ('Service-centric industries'), et elle nécessite également un ERP administratif de base ('Finance-led administrative ERP')."
                    },
                ]
            },
            {
                id: 't2',
                title: 'Chapitre 2: Constitution de l\'équipe de mise en œuvre',
                questions: [
                    {
                        text: 'Who builds a business case for their organization to purchase SAP S/4HANA Cloud?',
                        options: ['A. Customer IT Contact', 'B. Customer Project Team', 'C. Customer Executive Sponsor(s)', 'D. Partner Project Team'],
                        correctIndex: 2,
                        explanation: "Ce sont les sponsors exécutifs (direction) du client qui élaborent la justification économique et stratégique (business case) pour l'achat du logiciel."
                    },
                    {
                        text: 'Who is responsible for setting up the implementation project in SAP Cloud ALM? (2 correct answers)',
                        options: ['A. Customer IT Contact', 'B. Partner Lead Configuration Expert', 'C. Customer Project Manager', 'D. Partner Project Manager'],
                        correctIndex: [2, 3],
                        explanation: "La gestion du projet dans SAP Cloud ALM est une responsabilité partagée entre le chef de projet client et le chef de projet partenaire."
                    },
                    {
                        text: 'In which task are the partner/SAP LOB configuration experts demonstrating each business process chosen on the Digital Discovery Assessment from start to finish in the SAP S/4HANA Cloud Starter System?',
                        options: ['A. Design workshops', 'B. Fit-to-Standard Analysis workshops', 'C. User Acceptance Testing workshops', 'D. Customization workshops'],
                        correctIndex: 1,
                        explanation: "La démonstration des 'Best Practices' par rapport aux besoins du client se déroule lors des 'Fit-to-Standard Analysis workshops'."
                    },
                    {
                        text: 'Who is usually assigned the role of IT Contact when no one is explicitly chosen at contract signing?',
                        options: ['A. Customer Project Manager', 'B. SAP Partner Lead', 'C. Contract signer (CTO/CIO)', 'D. Partner Project Manager'],
                        correctIndex: 2,
                        explanation: "Par défaut, si le Contact IT n'est pas désigné, c'est le signataire du contrat (souvent le CTO/CIO) qui est initialement attribué à ce rôle."
                    },
                    {
                        text: 'What is the main responsibility of the customer system admin (IT Contact)?',
                        options: ['A. Leading Fit-to-Standard workshops', 'B. Provisioning systems and granting access', 'C. Building the business case', 'D. Running UAT'],
                        correctIndex: 1,
                        explanation: "Le Contact IT est l'administrateur système côté client, responsable de l'approvisionnement des systèmes et de la gestion des accès et des utilisateurs."
                    },
                    {
                        text: 'Who collectively makes up the steering committee in an SAP S/4HANA Cloud project?',
                        options: ['A. Customer and partner executive sponsors', 'B. Customer project managers', 'C. Partner LoB experts', 'D. SAP Central Business Configuration team'],
                        correctIndex: 0,
                        explanation: "Le comité de pilotage (Steering Committee) est composé des sponsors exécutifs (direction) du client et du partenaire. Ce sont les décideurs."
                    },
                    {
                        text: 'Which role completes the majority of the business process content activation and setup in SAP Central Business Configuration?',
                        options: ['A. Customer IT Contact', 'B. Partner Lead Configuration Expert', 'C. Customer Project Manager', 'D. End Users'],
                        correctIndex: 1,
                        explanation: "C'est l'Expert en Configuration (Lead Configuration Expert) du partenaire qui est chargé de la configuration et de l'activation des processus dans SAP Central Business Configuration (CBC)."
                    },
                    {
                        text: 'During which phase are the Fit-to-Standard workshops conducted?',
                        options: ['A. Discover', 'B. Prepare', 'C. Explore', 'D. Realize'],
                        correctIndex: 2,
                        explanation: "Les ateliers Fit-to-Standard ont lieu pendant la phase 'Explore' de la méthodologie SAP Activate."
                    },
                    {
                        text: 'What is the role of customer LoB experts in Fit-to-Standard workshops?',
                        options: ['A. Monitor project budget', 'B. Provide detailed feedback on business processes', 'C. Execute configuration in CBC', 'D. Build test automates'],
                        correctIndex: 1,
                        explanation: "Les experts métier (LoB experts) du client fournissent un retour d'information détaillé sur la façon dont les processus SAP 'Best Practices' correspondent ou non à leurs besoins réels."
                    },
                    {
                        text: 'Who is typically responsible for in-app customizations (e.g., custom fields, custom logic) in SAP S/4HANA Cloud?',
                        options: ['A. IT Contact', 'B. Partner/SAP consultants', 'C. Steering committee', 'D. Customer executive sponsor'],
                        correctIndex: 1,
                        explanation: "Les personnalisations 'in-app' sont généralement réalisées par les consultants du partenaire ou de SAP, qui ont les connaissances fonctionnelles et techniques nécessaires."
                    },
                ]
            },
            {
                id: 't3',
                title: 'Chapitre 3: Définition des paysages systématiques - FI',
                questions: [
                    {
                        text: 'Which platform is used to provision systems and manage licenses, support cases, and product portfolios in SAP S/4HANA Cloud Public Edition?',
                        options: ['A. SAP ONE Support Launchpad', 'B. SAP for Me', 'C. SAP Solution Manager', 'D. SAP Signavio'],
                        correctIndex: 1,
                        explanation: "'SAP for Me' est la plateforme unifiée pour interagir avec SAP, y compris pour l'approvisionnement des systèmes, les licences et le support."
                    },
                    {
                        text: 'An organization designs and builds automobiles. What scope do they require?',
                        options: ['A. Finance-led administrative ERP', 'B. Product-centric industries', 'C. Service-centric industries'],
                        correctIndex: 1,
                        explanation: "La fabrication automobile est centrée sur le produit physique, ce qui correspond à la portée 'Product-centric industries'."
                    },
                    {
                        text: 'Which services provide authentication, provisioning, and secure single sign-on for SAP Cloud solutions?',
                        options: ['A. SAP Central Business Configuration', 'B. SAP Identity Authentication Service (IAS) & Identity Provisioning Service (IPS)', 'C. SAP Cloud ALM', 'D. SAP Road Map Explorer'],
                        correctIndex: 1,
                        explanation: "IAS (Authentication) et IPS (Provisioning) font partie des services d'identité (SAP Cloud Identity Services) qui gèrent l'accès et le Single Sign-On (SSO)."
                    },
                    {
                        text: 'Which tool is included at no additional cost with Enterprise Support for Cloud editions and supports project management, operations, and services?',
                        options: ['A. SAP Cloud ALM', 'B. SAP Solution Manager', 'C. SAP Business Accelerator Hub', 'D. SAP Signavio'],
                        correctIndex: 0,
                        explanation: "'SAP Cloud ALM' est l'outil inclus et recommandé pour la gestion de projet et des opérations des solutions SAP Cloud."
                    },
                    {
                        text: 'Which SAP S/4HANA Cloud system is preconfigured with all SAP Best Practice business processes active and existing master data?',
                        options: ['A. Development System', 'B. Starter System', 'C. Production System', 'D. Test System'],
                        correctIndex: 1,
                        explanation: "Le 'Starter System' est le système initial préconfiguré avec toutes les 'Best Practices' activées. Il est utilisé pour les ateliers Fit-to-Standard."
                    },
                    {
                        text: 'Which SAP S/4HANA Cloud tenant is the main project for business process configuration and key user extensibility?',
                        options: ['A. Development Tenant', 'B. Customizing Tenant'],
                        correctIndex: 0, // Should be Development Tenant / Client 100 in 3SL
                        explanation: "Dans le paysage à 3 systèmes (3SL), le tenant de développement (client 100) est le lieu principal pour la configuration des processus métier et les extensions par l'utilisateur clé."
                    },
                    {
                        text: 'Which tenant in the Development System is used for ABAP developer extensibility with full access to released business objects?',
                        options: ['A. Tenant (100)', 'B. Tenant (080)', 'C. Sandbox Tenant', 'D. Starter System'],
                        correctIndex: 1,
                        explanation: "Le 'Development client' (client 080) dans le système de développement est dédié à l'extensibilité 'ABAP in-app' (pro-code)."
                    },
                    {
                        text: 'Which system is upgraded to the latest software release version first?',
                        options: ['A. SAP Central Business Configuration', 'B. SAP S/4HANA Cloud Test System', 'C. SAP S/4HANA Cloud Development System, customizing tenant', 'D. SAP S/4HANA Cloud Development System, development tenant'],
                        correctIndex: 1,
                        explanation: "Le 'Test System' est le premier système S/4HANA Cloud à être mis à jour (après CBC) pour permettre les tests de régression avant que les autres systèmes ne suivent."
                    },
                    {
                        text: 'In which system is the content upgrade released first?',
                        options: ['A. SAP Central Business Configuration', 'B. SAP S/4HANA Cloud Test System', 'C. SAP S/4HANA Cloud Development System, customizing tenant', 'D. SAP S/4HANA Cloud Development System, development tenant'],
                        correctIndex: 0,
                        explanation: "Les mises à jour de contenu (configurations) sont d'abord appliquées dans 'SAP Central Business Configuration' (CBC)."
                    },
                    {
                        text: 'In the context of a new SAP S/4HANA Cloud implementation, what critical function does SAP Cloud Identity Services (IAS + IPS) provide during the initial provisioning phase?',
                        options: ['Ensuring system transport requests are automatically distributed across tenants.', 'Enabling secure single sign-on (SSO) and replicating user identities with the correct roles into connected systems such as CBC and Cloud ALM.', 'Managing version upgrades across Development, Test, and Production.', 'Hosting development artifacts outside the core S/4HANA Cloud stack.'],
                        correctIndex: 1,
                        explanation: "IAS gère l'authentification (SSO) et IPS réplique les utilisateurs et leurs rôles dans tous les systèmes connectés (CBC, Cloud ALM, S/4HANA)."
                    },
                    {
                        text: 'In a 3-system landscape (3SL) for SAP S/4HANA Cloud, why is the Development tenant divided into a Customizing client (100) and a Development client (080)?',
                        options: ['To separate Fit-to-Standard workshops from end-user training.', 'To distinguish business process configuration and key-user extensibility (client 100) from ABAP in-app development and technical extensions (client 080).', 'To ensure one client always runs on a different release cycle.', 'To replicate user provisioning automatically across clients.'],
                        correctIndex: 1,
                        explanation: "Le client 100 est pour la configuration et les extensions utilisateur clé, tandis que le client 080 est pour le développement ABAP (pro-code), séparant ainsi les activités fonctionnelles et techniques."
                    },
                    {
                        text: 'Which tool is used to activate business process content in the SAP S/4HANA Cloud systems?',
                        options: ['A. SAP Cloud Identity Services', 'B. SAP Cloud ALM', 'C. SAP Central Business Configuration', 'D. SAP Business Technology Platform'],
                        correctIndex: 2,
                        explanation: "L'activation du contenu (scope et configuration initiale) est la fonction principale de 'SAP Central Business Configuration' (CBC)."
                    },
                    {
                        text: 'Which new landscape option introduced in release 2208 separates development, testing, and production into three distinct systems?',
                        options: ['A. 2-System Landscape (2SL)', 'B. 3-System Landscape (3SL)', 'C. Sandbox Landscape', 'D. Hybrid Landscape'],
                        correctIndex: 1,
                        explanation: "Le paysage à 3 systèmes (3SL) a été introduit pour offrir une séparation claire entre Développement, Test et Production."
                    },
                    {
                        text: 'In which months are upgrades released for SAP S/4HANA Cloud Public Edition? (2 correct answers)',
                        options: ['A. February', 'B. May', 'C. August', 'D. November'],
                        correctIndex: [0, 2],
                        explanation: "Les mises à jour majeures sont publiées deux fois par an, en Février et en Août."
                    },
                    {
                        text: 'How long before an upgrade are customers notified by email?',
                        options: ['A. 3 weeks', 'B. 6 weeks', 'C. 2 months', 'D. 1 week'],
                        correctIndex: 1,
                        explanation: "Les clients sont notifiés de la mise à jour environ 2 mois (8 semaines) à l'avance."
                    },
                    {
                        text: 'Which tool compares the release upgrade information against a customer\'s actual landscape to provide the "day 1 impact" of a release?',
                        options: ['A. What\'s New Viewer', 'B. SAP Road Map Explorer', 'C. Release Assessment Scope Dependency Tool (RASD)', 'D. Release Navigator'],
                        correctIndex: 2,
                        explanation: "Le 'Release Assessment Scope Dependency Tool (RASD)' analyse la portée active du client et fournit un impact personnalisé de la mise à jour."
                    },
                    {
                        text: 'Which tool provides the master list of all new and changed features in a release with filtering options?',
                        options: ['A. What\'s New Viewer', 'B. RASD Tool', 'C. Road Map Explorer', 'D. Release Navigator'],
                        correctIndex: 0,
                        explanation: "Le 'What\'s New Viewer' est l'outil central pour la liste complète et filtrable des nouvelles fonctionnalités d'une version."
                    },
                    {
                        text: 'Which tool aggregates multiple release-related resources like RASD, webinars, and early release sessions in one place?',
                        options: ['A. What\'s New Viewer', 'B. Release Navigator', 'C. Road Map Explorer', 'D. SAP Help Portal'],
                        correctIndex: 1,
                        explanation: "Le 'Release Navigator' sert de hub (navigateur) pour regrouper toutes les ressources liées à la mise à jour."
                    },
                    {
                        text: 'What is the code for an SAP S/4HANA Cloud release delivered in August 2024 with two subsequent feature deliveries?',
                        options: ['Α. 2402.8', 'Β. 2408.2', 'C. 2408.1', 'D. 2024.08'],
                        correctIndex: 1,
                        explanation: "Le format est AASS.FD : Année (24) Mois (08), suivi du numéro de livraison de fonctionnalité (2). Donc : 2408.2."
                    },
                ]
            },
            {
                id: 't4',
                title: 'Chapitre 4: Mise en place des systèmes et des autorisations',
                questions: [
                    {
                        text: 'How many people can be assigned the role of the IT Contact?',
                        options: ['1', '2', '3', 'Unlimited'],
                        correctIndex: 0,
                        explanation: "Le rôle de Contact IT est un rôle unique et ne peut être attribué qu'à une seule personne à la fois."
                    },
                    {
                        text: 'What is populated in the Starter System after activating business process content in SAP Central Business Configuration? (2 Answers)',
                        options: ['Users', 'Master data', 'Business roles', 'Configuration values'],
                        correctIndex: [1, 3],
                        explanation: "L'activation du contenu via CBC peuple le Starter System avec les données de base (Master data) et les valeurs de configuration initiales ('Best Practices'). Les utilisateurs sont créés via IAS/IPS."
                    },
                    {
                        text: 'When provisioning SAP S/4HANA Cloud systems via SAP for Me, which service must be activated first?',
                        options: ['SAP Cloud ALM', 'SAP Central Business Configuration', 'SAP Identity Authentication Service (IAS)', 'SAP S/4HANA Cloud Starter System'],
                        correctIndex: 2,
                        explanation: "Le service d'authentification (IAS) doit être configuré en premier, car sans lui, vous ne pouvez pas vous connecter aux autres systèmes pour le 'scoping' et la configuration."
                    },
                    {
                        text: 'Who is designated as the IT Contact during the SAP S/4HANA Cloud *',
                        options: ['Any project manager', 'The customer\'s system administrator', 'All consultants in the partner team', 'The executive sponsor'],
                        correctIndex: 1,
                        explanation: "Le Contact IT est le rôle d'administrateur système côté client ('customer\'s system administrator')."
                    },
                    {
                        text: 'In SAP Cloud Identity Service, which file format is used for mass user creation?',
                        options: ['.XLSX (Excel)', '.TXT (Text)', '.CSV (Comma-Separated Values)', '.DOCX (Word)'],
                        correctIndex: 0,
                        explanation: "Le format '.XLSX' (Excel) est le format pris en charge par le service d'identité pour la création d'utilisateurs en masse."
                    },
                    {
                        text: 'What is the purpose of running a replication task in SAP Identity Provisioning Service (IPS)?',
                        options: ['To delete inactive users', 'To synchronize IAS users and authorizations into SAP CBC', 'To back up user data', 'To generate user reports'],
                        correctIndex: 1,
                        explanation: "L'IPS (Identity Provisioning Service) synchronise les utilisateurs et leurs autorisations (rôles) depuis IAS vers les systèmes connectés comme CBC et S/4HANA."
                    },
                    {
                        text: 'What includes one or more business catalogs that grant access to data and/or applications?',
                        options: ['Business User', 'Business Role', 'Launchpad Space', 'Launchpad Page'],
                        correctIndex: 1,
                        explanation: "Un 'Business Role' (rôle métier) est l'entité qui agrège les catalogues métiers ('Business Catalogs'), lesquels donnent accès aux applications et aux données."
                    },
                    {
                        text: 'What does the Partner Project Manager align the scope in SAP Cloud ALM with?',
                        options: ['The bill of materials', 'The Starter System', 'The Digital Discovery Assessment', 'The Process Navigator'],
                        correctIndex: 2,
                        explanation: "La portée (scope) du projet dans SAP Cloud ALM doit être alignée sur les processus sélectionnés dans le 'Digital Discovery Assessment' (DDA)."
                    },
                    {
                        text: 'What does a deployment plan in SAP Cloud ALM contain?',
                        options: ['Timeboxes', 'System Group', 'Scopes', 'Releases'],
                        correctIndex: 0,
                        explanation: "Un plan de déploiement ('deployment plan') dans Cloud ALM est principalement organisé par périodes de temps ('Timeboxes') pour séquencer les activités."
                    },
                    {
                        text: 'Which service provides single sign-on and user authentication for SAP S/4HANA Cloud?',
                        options: ['SAP Cloud Identity Services', 'SAP Central Business Configuration', 'SAP Cloud ALM', 'SAP BTP Cockpit'],
                        correctIndex: 0,
                        explanation: "'SAP Cloud Identity Services' (IAS) fournit le Single Sign-On (SSO) et l'authentification des utilisateurs."
                    },
                    {
                        text: 'Which system is used to test user role assignments before transporting them to production?',
                        options: ['Starter System', 'Test System', 'Development Tenant', 'CBC'],
                        correctIndex: 1,
                        explanation: "Le 'Test System' (système de test) est l'environnement dédié pour valider les rôles avant leur promotion en production."
                    },
                    {
                        text: 'Which tool is used to activate business process content in the SAP S/4HANA Cloud systems?',
                        options: ['A. SAP Cloud Identity Services', 'B. SAP Cloud ALM', 'C. SAP Central Business Configuration', 'D. SAP Business Technology Platform'],
                        correctIndex: 2,
                        explanation: "'SAP Central Business Configuration' (CBC) est l'outil pour la configuration initiale et l'activation des processus métier ('business process content')."
                    },
                    {
                        text: 'When creating a deployment plan in SAP Cloud ALM, what is its main purpose?',
                        options: ['To monitor upcoming system release versions', 'To schedule training sessions', 'To configure financial ledgers'],
                        correctIndex: 0, // Option 1 and 4 are the same, checking against the most likely intended answer (monitoring release versions).
                        explanation: "Le plan de déploiement dans Cloud ALM aide à visualiser et suivre les prochaines versions logicielles et leur impact potentiel."
                    },
                    {
                        text: 'In SAP Central Business Configuration, how many workspaces must be created for the Starter System?',
                        options: ['One single workspace', 'Two workspaces (customizing tenant 100 and development tenant 80)', 'Three workspaces (including sandbox)', 'None, workspaces are predefined'],
                        correctIndex: 0,
                        explanation: "Le Starter System est un système unique (un seul client) et nécessite un 'One single workspace' (Espace de travail unique) dans CBC pour être géré."
                    },
                    {
                        text: 'Which fiscal year variant is predefined in the evaluation workspace of the Starter System?',
                        options: ['K3-Year dependent', 'V6 - Fiscal year April-March', 'K4- Calendar year, 4 special periods', 'V9 - Weekly periods'],
                        correctIndex: 2,
                        explanation: "La variante d'exercice 'K4' (Année civile avec 4 périodes spéciales) est la variante par défaut pour le Starter System."
                    },
                    {
                        text: 'What is the first role assigned by default to the IT Contact in the Starter System?',
                        options: ['BR_ADMINISTRATOR', 'SAP_BR_ADMINISTRATOR', 'SAP_BR_EMPLOYEE', 'SAP_BR_PROJECTMANAGER'],
                        correctIndex: 1,
                        explanation: "Le Contact IT reçoit le rôle prédéfini 'SAP_BR_ADMINISTRATOR' pour gérer les utilisateurs et l'accès au démarrage."
                    },
                    {
                        text: 'When creating business users in the Starter System, which attribute must exactly match between IAS and S/4HANA?',
                        options: ['Worker Type', 'User Name', 'First Name', 'Language'],
                        correctIndex: 1,
                        explanation: "Le 'User Name' (Nom d'utilisateur/ID de connexion) est l'attribut clé pour lier l'utilisateur dans IAS et l'utilisateur métier dans S/4HANA."
                    },
                    {
                        text: 'Why is it recommended to assign the BR_ADMINISTRATOR role to all project team members in the Starter System?',
                        options: ['To allow them to manage their own roles and create test users', 'To provide access to all Fiori apps', 'To prepare financial postings', 'To configure IPS tasks'],
                        correctIndex: 1,
                        explanation: "Dans le Starter System (environnement d'exploration), le rôle BR_ADMINISTRATOR donne accès à toutes les applications Fiori ('To provide access to all Fiori apps') pour faciliter la démonstration et l'exploration."
                    },
                    {
                        text: 'In SAP Cloud ALM, what is the main benefit of importing the scope from the Digital Discovery Assessment (DDA) instead of manual selection?',
                        options: ['It reduces the number of systems to provision', 'It ensures alignment with the processes already defined in the DDA', 'It automatically activates the Starter System', 'It creates fiscal year variants'],
                        correctIndex: 1,
                        explanation: "L'importation du DDA garantit que le 'scope' dans Cloud ALM est directement aligné avec les processus que le client a sélectionnés (et signés) lors de la phase de découverte."
                    },
                    {
                        text: 'Why should the SAP S/4HANA Cloud Production System be provisioned only after Fit-to-Standard workshops are completed?',
                        options: ['Because it is the only system connected to IAS', 'Because provisioning triggers a 30-day countdown to automatically deactivate the Starter System', 'Because it is required to test CSV imports', 'Because it is the only way to activate business roles'],
                        correctIndex: 1,
                        explanation: "L'approvisionnement du système de production démarre un compte à rebours qui désactive le Starter System après 30 jours. Il est donc nécessaire de terminer les ateliers Fit-to-Standard avant de le provisionner."
                    },
                ]
            },
            {
                id: 't5',
                title: 'Chapitre 5: Collecte de données dans les ateliers d\'ajustement aux normes',
                questions: [
                    {
                        text: 'What are some important activities the partner LoB configuration experts need to complete in the Prepare phase? (2 correct answers)',
                        options: ['Providing test user and starter system login information to the customer LoB experts.', 'Gathering L2 BDCQ responses.', 'Gathering L3 BDCQ responses.', 'Identifying customer LoB experts to participate in Fit-to-Standard workshops.'],
                        correctIndex: [1, 3],
                        explanation: "Dans la phase 'Prepare', il faut identifier les experts client et collecter les réponses L2 du BDCQ (questions de haut niveau sur les processus)."
                    },
                    {
                        text: 'Where are requirements documented in SAP Cloud ALM?',
                        options: ['In the Processes app', 'In the Manage Scopes app', 'In the Features app'],
                        correctIndex: 2,
                        explanation: "Les exigences (requirements), y compris les 'Gaps' identifiés lors des ateliers, sont documentées dans l'application 'Features' de SAP Cloud ALM."
                    },
                    {
                        text: 'What should be demonstrated in SAP Signavio Process Navigator during Fit-to-Standard workshops? (3 correct answers)',
                        options: ['Business Driven Configuration Questionnaire', 'Tutorial (if available)', 'Set-up instructions', 'Where to download Test Script', 'Process Flow diagram'],
                        correctIndex: [1, 2, 4],
                        explanation: "Lors des Fit-to-Standard, on utilise Signavio pour montrer le diagramme de flux (Process Flow), le tutoriel et les instructions de configuration ('Set-up instructions') pour les processus 'Best Practices'."
                    },
                    {
                        text: 'What are some important activities the partner LoB configuration experts need to complete in the Explore phase? (2 correct answers)',
                        options: ['Preparing a presentation deck for each Fit-to-Standard workshop.', 'Documenting formal UAT sign-off in SAP Cloud ALM.', 'Documenting customization requirements in SAP Cloud ALM.', 'Demonstrating where to find business process documentation.'],
                        correctIndex: [2, 3],
                        explanation: "Pendant la phase 'Explore' (ateliers Fit-to-Standard), l'activité clé est de documenter les exigences de personnalisation ('customization requirements') et de montrer la documentation."
                    },
                    {
                        text: 'What are some important activities the partner LoB configuration experts need to complete in the Realize phase? (2 correct answers)',
                        options: ['Setting up manual test cases in SAP Cloud ALM.', 'Gathering perceived change impact feedback.', 'Entering configuration values in SAP Central Business Configuration.', 'Scheduling meetings with customer experts to gather BDCQ responses.'],
                        correctIndex: [0, 2],
                        explanation: "Dans la phase 'Realize', on effectue la configuration dans CBC et on prépare les cas de test dans Cloud ALM."
                    },
                    {
                        text: 'Which phase involves validating L2 BDCQ responses?',
                        options: ['Prepare', 'Explore', 'Realize', 'Deploy'],
                        correctIndex: 0,
                        explanation: "Les réponses L2 (haut niveau) du BDCQ sont validées pendant la phase 'Prepare'."
                    },
                    {
                        text: 'Which phase involves gathering L3 BDCQ responses?',
                        options: ['A. Discover', 'B. Prepare', 'C. Explore', 'D. Realize'],
                        correctIndex: 2,
                        explanation: "Les réponses L3 (détail) du BDCQ sont recueillies lors des ateliers Fit-to-Standard, qui se déroulent dans la phase 'Explore'."
                    },
                    {
                        text: 'What is the main purpose of the Fit-to-Standard workshops?',
                        options: ['To rebuild customer-specific processes', 'To validate SAP standard processes against customer needs', 'To configure SAP Central Business Configuration', 'To migrate customer master data'],
                        correctIndex: 1,
                        explanation: "L'objectif principal est de valider les processus standard ('Best Practices') de SAP par rapport aux besoins du client, et non de reconstruire ou de configurer."
                    },
                    {
                        text: 'What is the role of the customer LoB experts in Fit-to-Standard workshops?',
                        options: ['Approve SAP licensing', 'Identify small required changes', 'Perform system configuration', 'Develop integration scenarios'],
                        correctIndex: 1,
                        explanation: "Leur rôle est d'identifier les écarts ou les petites modifications nécessaires ('Identify small required changes') pour que les processus standard correspondent à leur réalité métier."
                    },
                    {
                        text: 'Why should only critical changes be captured during Fit-to-Standard workshops?',
                        options: ['Because SAP does not allow customizations', 'Because any change increases maintenance effort during upgrades', 'Because changes require additional licenses', 'Because changes are not recorded in SAP Cloud ALM'],
                        correctIndex: 1,
                        explanation: "Il est conseillé de limiter les changements car toute personnalisation augmente la complexité de la maintenance et des futures mises à jour logicielles."
                    },
                    {
                        text: 'Which SAP tool provides process flows, test scripts, and tutorials?',
                        options: ['SAP Fiori Launchpad', 'SAP Cloud ALM', 'SAP Signavio Process Navigator', 'SAP Roadmap Viewer'],
                        correctIndex: 2,
                        explanation: "'SAP Signavio Process Navigator' (anciennement Best Practices Explorer) est la source unique pour la documentation, les flux de processus, les scripts de test, et les tutoriels des 'Best Practices'."
                    },
                    {
                        text: 'What is the purpose of creating test users in the starter system?',
                        options: ['To simulate business roles during workshops', 'To configure roles in SAP Central Business Configuration', 'To migrate legacy user data', 'To enable integrations'],
                        correctIndex: 0,
                        explanation: "Les utilisateurs de test sont créés pour simuler les différents rôles et scénarios métier lors des démonstrations et des exercices pratiques pendant les ateliers."
                    },
                    {
                        text: 'Which app is used to create test users in the starter system?',
                        options: ['Manage Workforce', 'Manage Business Roles', 'Maintain Business Users', 'Identity Authentication Service'],
                        correctIndex: 2,
                        explanation: "L'application 'Maintain Business Users' est l'outil Fiori utilisé dans S/4HANA Cloud pour créer les utilisateurs (et non l'IAS qui gère les identités)."
                    },
                    {
                        text: 'How many business roles should a test user typically have?',
                        options: ['One only', 'Two (Employee + Primary business role)', 'Three (Employee+Manager+Business role)', 'Unlimited'],
                        correctIndex: 1,
                        explanation: "Un utilisateur de test doit généralement avoir le rôle 'Employee' (pour les fonctionnalités de base) plus le rôle métier principal ('Primary business role') à tester."
                    },
                    {
                        text: 'When organizing workshops, which workshops should usually run first?',
                        options: ['Procurement workshops', 'Finance and Sales workshops', 'Chart of Accounts and Organizational Structure workshops', 'Professional Services workshops'],
                        correctIndex: 2,
                        explanation: "Les ateliers sur la 'Chart of Accounts' (Plan Comptable) et la Structure Organisationnelle doivent être les premiers, car ils définissent les bases fondamentales requises par tous les autres processus métier."
                    },
                    {
                        text: 'What is an important factor when grouping processes into workshops?',
                        options: ['Number of SAP Fiori apps involved', 'Business roles completing most tasks', 'Number of integrations'],
                        correctIndex: 1,
                        explanation: "Le regroupement des processus doit se faire par rôles métier ('Business roles'), pour garantir que les bons experts client sont présents et que les flux de travail complets peuvent être démontrés."
                    },
                    {
                        text: 'What should be included in the mini kick-off presentation deck? (3 correct answers)',
                        options: ['Why participants are invited', 'What is the Cloud Mindset', 'Where to find tutorials and documentation', 'Migration strategy details', 'Release upgrade schedule'],
                        correctIndex: [0, 1, 2],
                        explanation: "Le mini-kick-off doit se concentrer sur l'état d'esprit Cloud ('Cloud Mindset'), les objectifs de l'atelier et où trouver les ressources (tutoriels/documentation)."
                    },
                    {
                        text: 'Which phase includes documenting customization requirements in SAP Cloud ALM?',
                        options: ['Prepare', 'Explore', 'Realize', 'Deploy'],
                        correctIndex: 1,
                        explanation: "La documentation des exigences de personnalisation ('customization requirements') est une activité clé de la phase 'Explore' (pendant ou immédiatement après les ateliers)."
                    },
                    {
                        text: 'During which phase do customer LoB experts formally sign off UAT?',
                        options: ['Prepare', 'Explore', 'Realize', 'Deploy'],
                        correctIndex: 2,
                        explanation: "La signature formelle du 'User Acceptance Testing' (UAT) par les experts client est généralement la dernière étape de validation de la phase 'Realize'."
                    },
                    {
                        text: 'What are some important activities the partner LoB configuration experts need to complete in the Prepare phase? (three answers)',
                        options: ['Identifying customer LoB experts to participate in Fit-to-Standard workshops.', 'Gathering L2 BDCQ responses.', 'Gathering L3 BDCQ responses.', 'Creating test users and verifying test scripts in the starter system.'],
                        correctIndex: [0, 1, 3],
                        explanation: "Pendant 'Prepare' : Identifier les experts client (0), collecter les réponses L2 du BDCQ (1), et créer des utilisateurs/vérifier les scripts de test (3). La collecte L3 se fait dans 'Explore'."
                    },
                ]
            },
            {
                id: 't6',
                title: 'Chapitre 6: Configuration des processus métier avec SAP Central Business Configuration',
                questions: [
                    {
                        text: 'Who builds a business case for their organization to purchase SAP S/4HANA Cloud?',
                        options: ['A. Customer IT Contact', 'B. Customer Project Team', 'C. Customer Executive Sponsor(s)', 'D. Partner Project Team'],
                        correctIndex: 2,
                        explanation: "Ce sont les sponsors exécutifs (direction) du client qui élaborent la justification économique et stratégique (business case) pour l'achat du logiciel."
                    },
                    {
                        text: 'Who is responsible for setting up the implementation project in SAP Cloud ALM? (2 correct answers)',
                        options: ['A. Customer IT Contact', 'B. Partner Lead Configuration Expert', 'C. Customer Project Manager', 'D. Partner Project Manager'],
                        correctIndex: [2, 3],
                        explanation: "La gestion du projet dans SAP Cloud ALM est une responsabilité partagée entre le chef de projet client et le chef de projet partenaire."
                    },
                    {
                        text: 'In which task are the partner/SAP LOB configuration experts demonstrating each business process chosen on the Digital Discovery Assessment from start to finish in the SAP S/4HANA Cloud Starter System?',
                        options: ['A. Design workshops', 'B. Fit-to-Standard Analysis workshops', 'C. User Acceptance Testing workshops', 'D. Customization workshops'],
                        correctIndex: 1,
                        explanation: "La démonstration des 'Best Practices' par rapport aux besoins du client se déroule lors des 'Fit-to-Standard Analysis workshops'."
                    },
                    {
                        text: 'Who is usually assigned the role of IT Contact when no one is explicitly chosen at contract signing?',
                        options: ['A. Customer Project Manager', 'B. SAP Partner Lead', 'C. Contract signer (CTO/CIO)', 'D. Partner Project Manager'],
                        correctIndex: 2,
                        explanation: "Par défaut, si le Contact IT n'est pas désigné, c'est le signataire du contrat (souvent le CTO/CIO) qui est initialement attribué à ce rôle."
                    },
                    {
                        text: 'What is the main responsibility of the customer system admin (IT Contact)?',
                        options: ['A. Leading Fit-to-Standard workshops', 'B. Provisioning systems and granting access', 'C. Building the business case', 'D. Running UAT'],
                        correctIndex: 1,
                        explanation: "Le Contact IT est l'administrateur système côté client, responsable de l'approvisionnement des systèmes et de la gestion des accès et des utilisateurs."
                    },
                    {
                        text: 'Who collectively makes up the steering committee in an SAP S/4HANA Cloud project?',
                        options: ['A. Customer and partner executive sponsors', 'B. Customer project managers', 'C. Partner LoB experts', 'D. SAP Central Business Configuration team'],
                        correctIndex: 0,
                        explanation: "Le comité de pilotage (Steering Committee) est composé des sponsors exécutifs (direction) du client et du partenaire. Ce sont les décideurs."
                    },
                    {
                        text: 'Which role completes the majority of the business process content activation and setup in SAP Central Business Configuration?',
                        options: ['A. Customer IT Contact', 'B. Partner Lead Configuration Expert', 'C. Customer Project Manager', 'D. End Users'],
                        correctIndex: 1,
                        explanation: "C'est l'Expert en Configuration (Lead Configuration Expert) du partenaire qui est chargé de la configuration et de l'activation des processus dans SAP Central Business Configuration (CBC)."
                    },
                    {
                        text: 'During which phase are the Fit-to-Standard workshops conducted?',
                        options: ['A. Discover', 'B. Prepare', 'C. Explore', 'D. Realize'],
                        correctIndex: 2,
                        explanation: "Les ateliers Fit-to-Standard ont lieu pendant la phase 'Explore' de la méthodologie SAP Activate."
                    },
                    {
                        text: 'What is the role of customer LoB experts in Fit-to-Standard workshops?',
                        options: ['A. Monitor project budget', 'B. Provide detailed feedback on business processes', 'C. Execute configuration in CBC', 'D. Build test automates'],
                        correctIndex: 1,
                        explanation: "Les experts métier (LoB experts) du client fournissent un retour d'information détaillé sur la façon dont les processus SAP 'Best Practices' correspondent ou non à leurs besoins réels."
                    },
                    {
                        text: 'Who is typically responsible for in-app customizations (e.g., custom fields, custom logic) in SAP S/4HANA Cloud?',
                        options: ['A. IT Contact', 'B. Partner/SAP consultants', 'C. Steering committee', 'D. Customer executive sponsor'],
                        correctIndex: 1,
                        explanation: "Les personnalisations 'in-app' sont généralement réalisées par les consultants du partenaire ou de SAP, qui ont les connaissances fonctionnelles et techniques nécessaires."
                    },
                    {
                        text: 'What is the maximum recommended number of countries to activate at the same time for performance reasons in SAP Central Business Configuration?',
                        options: ['2', '3', '5', '10'],
                        correctIndex: 2,
                        explanation: "SAP recommande de ne pas activer plus de 5 pays à la fois pour des raisons de performance dans CBC."
                    },
                    {
                        text: 'Which type of workspace must be created in SAP Central Business Configuration for the development tenants?',
                        options: ['Evaluation', 'Implementation', 'Sandbox', 'Test'],
                        correctIndex: 1,
                        explanation: "Les tenants de développement sont gérés dans un espace de travail de type 'Implementation' (Mise en œuvre) dans CBC."
                    },
                    {
                        text: 'In the SAP S/4HANA Cloud Test and Production systems, how are user accounts typically created during implementation?',
                        options: ['Manually one by one or via importation in IAS', 'Imported via Excel into CBC', 'Requested from SAP Support'],
                        correctIndex: 0, // Manually or via importation in IAS, because IPS then provisions to S/4HANA systems
                        explanation: "Les comptes utilisateurs sont gérés dans l'IAS et provisionnés automatiquement vers S/4HANA via l'IPS. La création initiale des identités se fait manuellement ou par importation dans l'IAS."
                    },
                    {
                        text: 'Where should the finalized list of business processes and countries/regions be documented?',
                        options: ['In SAP Signavio only', 'In SAP Cloud ALM → Processes app', 'In the Business Driven Configuration Questionnaire (BDCQ)', 'In the IAS system'],
                        correctIndex: 1,
                        explanation: "La liste finale et approuvée des processus et des pays doit être documentée dans l'application 'Processes' de SAP Cloud ALM, qui sert de référentiel de projet."
                    },
                    {
                        text: 'What happens if you try to complete the Deploy Scope & Organizational Structure activity without adding a required entity?',
                        options: ['The activity will be skipped automatically', 'The system displays an error requiring the missing entity', 'The entity is added automatically by SAP', 'The system creates a parallel line'],
                        correctIndex: 1,
                        explanation: "CBC est strict : si une entité obligatoire (comme un code pays ou une structure d'organisation) est manquante, le système affichera une erreur et exigera son ajout pour poursuivre."
                    },
                    {
                        text: 'Which column in SAP Central Business Configuration matches with the "Topic" column of the Business Driven Configuration Questionnaire (BDCQ)?',
                        options: ['Title', 'Status', 'Go-Live relevance', 'System'],
                        correctIndex: 0,
                        explanation: "La colonne 'Title' (Titre) dans CBC correspond au 'Topic' (Sujet) du BDCQ, qui est le libellé du processus métier."
                    },
                    {
                        text: 'Which role types have permission to use the Edit button to move activities back to earlier phases in CBC?',
                        options: ['SAP_CBC_CONSUMPTION_KEY_USER', 'SAP_CBC_CONSUMPTION_PROGRAM_LEAD', 'SAP_CBC_CONSUMPTION_AUDITOR', 'BR_ADMINISTRATOR'],
                        correctIndex: 1,
                        explanation: "Le rôle 'SAP_CBC_CONSUMPTION_PROGRAM_LEAD' (Chef de Programme) a les droits d'édition pour modifier le statut du projet, y compris le retour à une phase antérieure."
                    },
                    {
                        text: 'When transporting customizing requests, where are they executed after being released in the development system?',
                        options: ['Into production', 'Into the test system', 'Into IAS', 'Into SAP Cloud ALM'],
                        correctIndex: 1,
                        explanation: "Les requêtes de personnalisation sont toujours transportées du développement vers le système de test ('Into the test system') pour la validation avant la production."
                    },
                    {
                        text: 'What is the purpose of the Merge function in the Parallel Line capability?',
                        options: ['To delete a workspace', 'To send completed changes from the parallel line to the main line', 'To reset the organizational structure', 'To replicate users from IAS'],
                        correctIndex: 1,
                        explanation: "La fonction 'Merge' permet d'intégrer les modifications terminées de la 'Parallel Line' (ligne de travail temporaire) dans la 'Main Line' (ligne principale) du projet."
                    },
                    {
                        text: 'What happens to configuration activities once they are saved in SAP Central Business Configuration?',
                        options: ['They remain local to CBC until manually exported', 'They are automatically captured in a transport and pushed to the connected tenant', 'They can only be activated in production', 'They overwrite the scope in Cloud ALM'],
                        correctIndex: 1,
                        explanation: "Dans S/4HANA Cloud, une fois enregistrées dans CBC, les activités sont automatiquement capturées dans une demande de transport et envoyées au tenant connecté ('pushed to the connected tenant')."
                    },
                ]
            },
            {
                id: 't7',
                title: 'Chapitre 7: Naviguer dans SAP Fiori Launchpad - FI',
                questions: [
                    {
                        text: 'Where can you find relevant simulations for an app you\'re currently working in on the launchpad?',
                        options: ['• Question mark icon', '• Diamond icon', '• Graduation cap icon', '• Megaphone icon'],
                        correctIndex: 2,
                        explanation: "L'icône du chapeau de diplômé ('Graduation cap icon') est généralement utilisée pour accéder aux supports d'apprentissage intégrés (simulations, tutoriels) pour l'application en cours."
                    },
                    {
                        text: 'Where can you access Joule from the launchpad?',
                        options: ['• Question mark icon', '• Diamond icon', '• Graduation cap icon', 'Megaphone icon'],
                        correctIndex: 1,
                        explanation: "Joule (l'assistant IA de SAP) est accessible via l'icône en forme de diamant ('Diamond icon') sur le Launchpad."
                    },
                    {
                        text: 'What is contained in a launchpad space?',
                        options: ['• One or more sections', '• One or more apps', '• One or more roles', '• One or more pages'],
                        correctIndex: 3,
                        explanation: "Un 'Launchpad Space' (Espace) est un regroupement d'une ou plusieurs pages ('One or more pages') pour un rôle métier donné."
                    },
                    {
                        text: 'How do you set up the SAP Mobile Start app for a customer?',
                        options: ['• In the SAP Fiori Launchpad', '• In Spaces & Pages', '• In SAP Build Work Zone', '• In SAP Build Apps'],
                        correctIndex: 2,
                        explanation: "L'application SAP Mobile Start est configurée via 'SAP Build Work Zone', qui gère l'expérience utilisateur mobile et desktop."
                    },
                    {
                        text: 'What provides a common set of domain-specific languages and services for defining and consuming semantically rich data models in SAP S/4HANA Cloud?',
                        options: ['SAP Analytics Cloud', '• Virtual Data Model', 'Core Data Services', '• SAP Datasphere'],
                        correctIndex: 2,
                        explanation: "Les 'Core Data Services' (CDS) fournissent le langage et les services pour créer les modèles de données sous-jacents aux applications Fiori et analytiques."
                    },
                    {
                        text: 'What are some examples of Team Categories in Responsibility Management? (two answers)',
                        options: ['• Operational Purchaser', '• Procurement', '• Distribution'],
                        correctIndex: [ 1,2], // The question has 2 options for 2 answers. The content suggests the roles or functions, checking against available options.
                        explanation: "Les 'Team Categories' sont des regroupements logiques de personnes. 'Operational Purchaser' est un rôle (Member Function) et 'Procurement' est un type de catégorie d'équipe."
                    },
                    {
                        text: 'What are work items in a flexible business workflow?',
                        options: ['• Tasks assigned to team categories', '• Tasks assigned to agents', '• Tasks assigned to member functions'],
                        correctIndex: 1,
                        explanation: "Les 'work items' sont des tâches qui sont affectées à des agents spécifiques ('agents') pour leur traitement dans le flux de travail."
                    },
                    {
                        text: 'For which of the following can an analytical query be used as the data source input? (3 reponses)',
                        options: ['• Generic drilldown reports', '• Multidimensional reports', '• Review booklets', '• Analysis Path Framework-based apps', '• SAP Analytical Cloud Stories'],
                        correctIndex: [ 1, 2, 4], // This question has 5 options and asks for the correct ones. The PDF seems to indicate multiple correct answers.
                        explanation: "Les requêtes analytiques (Analytical Queries) sont la base des rapports multidimensionnels, des rapports de ventilation génériques (drilldown), des applications APF et des histoires SAC."
                    },
                    {
                        text: '9-What is required to support automated situation resolution? (2 Answers)',
                        options: ['• Integration with SAP Business Technology Platform', '• SAP Build Process Automation service', '• Robotic Process Automation service', '• Intelligent Situation Automation service'],
                        correctIndex: [0,3],
                        explanation: "Le service 'Intelligent Situation Automation' est spécifiquement conçu pour l'automatisation de la résolution des situations (via des règles et l'IA)."
                    },
                    {
                        text: '10-What is the purpose of the "To-Dos" section in My Home?',
                        options: ['• Display favorite apps', '• Aggregate tasks and situations', '• Show frequently used apps', '• Provide release news'],
                        correctIndex: 1,
                        explanation: "La section 'To-Dos' (À Faire) dans 'My Home' (Ma Page d'Accueil) regroupe les tâches en attente et les notifications de situations ('situations')."
                    },
                    {
                        text: 'What is displayed by the "News" tile in My Home?',
                        options: ['• Custom KPIs', '• Release information feed', '• Workflow approvals', '• Assigned roles'],
                        correctIndex: 1,
                        explanation: "La tuile 'News' (Actualités) affiche un flux d'informations sur les mises à jour logicielles et les nouvelles fonctionnalités ('Release information feed')."
                    },
                    {
                        text: 'Which section of My Home aggregates favorites and recent activities?',
                        options: ['Insights', '• Apps and Activities', '• To-Dos', '• News'],
                        correctIndex: 1,
                        explanation: "La section 'Apps and Activities' (Applications et Activités) regroupe les favoris de l'utilisateur et les applications récemment utilisées."
                    },
                    {
                        text: 'Which kinds of cards can users add in the "Insights" section? (3 Answers)',
                        options: ['Analytical cards', '• List cards', '• Table cards', 'Business role cards'],
                        correctIndex: [0, 1, 2],
                        explanation: "Les utilisateurs peuvent ajouter des cartes analytiques, des cartes de liste et des cartes de tableau dans la section 'Insights'."
                    },
                    {
                        text: 'Which icon in the Help Topics menu shows "What\'s New" information?',
                        options: ['• Question mark', '• Diamond', '• Megaphone', 'Graduation cap'],
                        correctIndex: 2,
                        explanation: "L'icône du mégaphone ('Megaphone icon') dans le menu d'aide renvoie aux informations sur les nouveautés ('What\'s New')."
                    },
                    {
                        text: 'Which tool is used to create and manage teams, responsibilities, and member functions?',
                        options: ['• My Situations app', '• Manage Teams and Responsibilities app', '• SAP Build Process Automation', '• Responsibility Templates'],
                        correctIndex: 1,
                        explanation: "L'application 'Manage Teams and Responsibilities' (Gérer les Équipes et les Responsabilités) est l'outil central pour la gestion des équipes pour les flux de travail flexibles."
                    },
                    {
                        text: 'In Situation Handling, where are employees notified about issues? (3 Answers)',
                        options: ['• SAP Fiori Launchpad notifications', '• My Situations app', 'Business application where issue occurred', '• SAP Signavio Process Navigator'],
                        correctIndex: [0, 1, 2],
                        explanation: "Les notifications de situations apparaissent dans les notifications Fiori, dans l'application 'My Situations' et directement dans l'application métier concernée."
                    },
                    {
                        text: 'Which business role must be assigned to provide access to My Situations apps?',
                        options: ['• Manager', '• Business User', '• Employee', 'Administrator'],
                        correctIndex: 2,
                        explanation: "Le rôle 'Employee' (Employé) est généralement le rôle de base requis pour accéder aux applications essentielles de l'utilisateur final, y compris 'My Situations'."
                    },
                    {
                        text: 'What is SAP Build Process Automation an evolution of?',
                        options: ['• SAP Workflow Management', 'SAP Conversational Al', '• SAP Intelligent Robotic Process Automation', '• SAP Fiori Launchpad'],
                        correctIndex: [0, 2], // The evolution covers both: Workflow Management and iRPA
                        explanation: "'SAP Build Process Automation' est l'évolution de la combinaison de 'SAP Workflow Management' et de 'SAP Intelligent Robotic Process Automation'."
                    },
                    {
                        text: 'What are flexible workflows mainly used for in SAP S/4HANA Cloud?',
                        options: ['• To replace SAP standard processes', '• To define custom approval and release procedures', '• To build analytics dashboards', '• To configure CDS Views'],
                        correctIndex: 1,
                        explanation: "Les flux de travail flexibles ('flexible workflows') sont principalement utilisés pour définir des processus d'approbation et de validation personnalisés ('custom approval and release procedures')."
                    },
                ]
            },
            {
                id: 't8',
                title: 'Chapitre 8: Personnalisation des Autorisations dans SAP S/4HANA Cloud - FI',
                questions: [
                    {
                        text: '1-You are limiting access for certain users to enter data in specific fields of an application. Which of the following business role access categories would you choose?',
                        options: ['• Read, Value Help: Restricted', '• Write, Read, Value Help: Restricted', '• Read, Value Help: Unrestricted', 'Write, Read, Value Help: Unrestricted'],
                        correctIndex: 1,
                        explanation: "Pour limiter la saisie de données (écriture/modification) dans un champ spécifique, vous devez choisir le niveau d'accès 'Write, Read, Value Help: Restricted' (Écriture, Lecture, Aide à la valeur : Restreint)."
                    },
                    {
                        text: '2-What can a business catalog include? (2 answers)',
                        options: ['• Access to data', 'Access to a launchpad space', '• Access to a business role', 'Access to one or more applications'],
                        correctIndex: [1, 3],
                        explanation: "Un 'Business Catalog' (Catalogue Métier) octroie l'accès aux données ('Access to data') et à une ou plusieurs applications ('Access to one or more applications')."
                    },
                    {
                        text: '3-What does a launchpad page include? (2 answers)',
                        options: ['• One or more apps', 'One or more spaces', 'One or more sections', 'One or more catalogs'],
                        correctIndex: [0, 2],
                        explanation: "Une 'Launchpad Page' (Page du Launchpad) est composée de sections ('sections') et contient les tuiles des applications ('apps')."
                    },
                    {
                        text: '4-What must every business role contain to display apps for users?',
                        options: ['• At least one business catalog', '• At least one space with at least one page', '• At least one CDS view', 'At least one transport request'],
                        correctIndex: 1,
                        explanation: ""
                    },
                    {
                        text: '5-Which standard role must be assigned to all employees in addition to their job-specific roles?',
                        options: ['• Manager', '• Employee', '• Developer', '• Business Administrator'],
                        correctIndex: 1,
                        explanation: "Le rôle standard 'Employee' (Employé) est le rôle de base qui doit être attribué à tous les utilisateurs pour leur donner accès aux fonctions essentielles d'utilisateur final (comme les fiches de paie, les congés, etc.)."
                    },
                    {
                        text: '6-Why should standard business roles not be used in the Production system? (2 answers)',
                        options: ['• They may grant too much access', 'They may have cost implications due to FUE ratios', 'They cannot be transported', '• They are not compatible with spaces and pages'],
                        correctIndex: [0, 1],
                        explanation: "Les rôles standard sont généralement trop permissifs ('may grant too much access') et peuvent avoir un impact sur les coûts de licence (FUE - Full User Equivalent)."
                    },
                    {
                        text: '7-What does the "Price Category" column in the Maintain Business Roles app show?',
                        options: ['• User license type (Self-Service, Core, Advanced, Developer)', '• Restriction level', '• Catalog dependencies', '• Launchpad assignment'],
                        correctIndex: 0,
                        explanation: "La colonne 'Price Category' indique le type de licence utilisateur associé au rôle (Self-Service, Core, Advanced, Developer)."
                    },
                    {
                        text: '8-What is the recommended starting point for building custom roles in a project?',
                        options: ['• Extensibility Inventory', 'Application Workplace List', 'Manage Business Users', 'Transport Organizer'],
                        correctIndex: 0, // The answer in the PDF is Manage Business Users, but the standard best practice is to copy a standard role in the Maintain Business Roles app. Given the options, the most relevant app for user access is Maintain Business Users, but 'Maintain Business Roles' is the correct app. Let's stick with the PDF's choice (Manage Business Users) but note the context.
                        explanation: "Le point de départ recommandé pour créer des rôles personnalisés est généralement l'application 'Maintain Business Roles', en copiant un rôle standard. L'application 'Manage Business Users' est utilisée pour attribuer le rôle."
                    },
                    {
                        text: '9-What does the "Leading Restriction" option do when defining restrictions?',
                        options: ['• It propagates a restriction value to all related restriction types', '• It locks a restriction value', '• It validates segregation of duties conflicts', '•It removes restrictions'],
                        correctIndex: 0,
                        explanation: "L'option 'Leading Restriction' verrouille une valeur de restriction ('locks a restriction value') pour qu'elle soit appliquée de manière cohérente dans toutes les applications concernées par le rôle."
                    },
                    {
                        text: '10-Which app helps check changes to business roles after a release upgrade?',
                        options: ['• Maintain Business Role Changes After Upgrade', '• Manage Restrictions', '• Extensibility Cockpit', '• Fiori Apps Reference Library'],
                        correctIndex: 0,
                        explanation: "L'application 'Maintain Business Role Changes After Upgrade' (Gérer les changements de rôles après la mise à jour) est conçue pour aider à gérer l'impact des mises à jour sur les rôles personnalisés."
                    },
                ]
            },
            {
                id: 't9',
                title: 'Chapitre 9: Personnalisation des applications - FI',
                questions: [
                    {
                        text: 'Extensibility in SAP S/4HANA Cloud can be divided into which two main categories? (2 correct answers)',
                        options: ['In-app extensibility', 'Classic extensibility', 'Side-by-side extensibility', 'Transport-based extensibility'],
                        correctIndex: [0, 2],
                        explanation: "L'extensibilité dans S/4HANA Cloud est classée en deux types principaux : 'In-app' (à l'intérieur de l'application) et 'Side-by-side' (applications séparées via SAP BTP)."
                    },
                    {
                        text: 'What is the difference between key user extensibility and developer extensibility? (2 correct answers)',
                        options: ['Key user extensibility uses Fiori apps without coding', 'Developer extensibility is done in the ABAP environment of the development tenant', 'Key user extensibility allows editing all SAP objects', 'Developer extensibility is available in a 2-system landscape'],
                        correctIndex: [0, 1],
                        explanation: "L'extensibilité utilisateur clé ('Key user') est sans code via des applications Fiori (0). L'extensibilité développeur ('Developer') est réalisée avec ABAP pro-code dans le client de développement (080) (1)."
                    },
                    {
                        text: 'Which SAP platform is primarily used for side-by-side extensibility?',
                        options: ['SAP Fiori Launchpad', 'SAP BTP (Business Technology Platform)', 'SAP Datasphere', 'SAP Signavio'],
                        correctIndex: 1,
                        explanation: "L'extensibilité 'Side-by-side' (côte à côte) implique la construction d'applications externes qui s'intègrent à S/4HANA, et cela se fait principalement sur 'SAP BTP'."
                    },
                    {
                        text: 'Which SAP solution provides low/no-code tools for side-by-side extensibility?',
                        options: ['SAP Signavio', 'SAP Build', 'SAP Datasphere', 'SAP GUI'],
                        correctIndex: 1,
                        explanation: "'SAP Build' (composé de Build Apps, Build Process Automation, etc.) fournit les outils no/low-code pour les extensions sur BTP."
                    },
                    {
                        text: 'Which SAP tool is used for pro-code side-by-side extensibility?',
                        options: ['SAP Business Application Studio', 'SAP Build Apps', 'SAP Crystal Reports', 'SAP Business Objects'],
                        correctIndex: 0,
                        explanation: "'SAP Business Application Studio' est l'environnement de développement professionnel (pro-code) pour les extensions BTP."
                    },
                    {
                        text: 'Where do you change the recipients of a form template?',
                        options: ['In the Maintain Form Templates app', 'In the Manage Texts app', 'In the Output Parameter Determination app', 'In the Monitor Form Transmissions app'],
                        correctIndex: 2,
                        explanation: "La détermination des destinataires d'un formulaire est gérée par l'application 'Output Parameter Determination' (Détermination des paramètres de sortie)."
                    },
                    {
                        text: 'Where is the master library of all key user in-app extensions that have been made in an SAP S/4HANA Cloud system?',
                        options: ['Extensibility Cockpit app', 'Extensibility Explorer app', 'Extensibility Inventory app', 'Export Customizing Requests app'],
                        correctIndex: 2,
                        explanation: "L'application 'Extensibility Inventory' (Inventaire d'Extensibilité) maintient la liste principale et le statut de toutes les extensions utilisateur clé ('key user extensions')."
                    },
                    {
                        text: 'Which tools would a developer use to build a custom mobile application in JavaScript? (2 correct answers)',
                        options: ['SAP Build Apps', 'SAP Business Application Studio', 'SAP Software Developer Kits'],
                        correctIndex: [1, 2],
                        explanation: "Un développement mobile en JavaScript nécessite l'environnement de développement 'SAP Business Application Studio' et les 'SAP Software Developer Kits' (SDK)."
                    },
                    {
                        text: 'Where can you find sample code for a Business Add-In (BAdI)?',
                        options: ['Custom Fields app', 'Custom Business Objects app', 'Extensibility Inventory', 'Custom Logic app'],
                        correctIndex: 3,
                        explanation: "L'application 'Custom Logic' (Logique Personnalisée) est l'endroit où vous implémentez, et trouvez la documentation et le code d'exemple pour les BAdI."
                    },
                    {
                        text: 'What can be transported with the Export Software Collection app? (3 correct answers)',
                        options: ['A custom form template', 'A business Process', 'A customer-specific CDS view', 'An adapted Fiori UI'],
                        correctIndex: [0, 2, 3],
                        explanation: "L'application 'Export Software Collection' transporte les objets personnalisés : Formulaires, Vues CDS et adaptations Fiori. Les processus métier sont gérés par CBC."
                    },
                    {
                        text: '11-You created a custom tile that links to a website relevant for all employees. What are your next steps to make sure the app is visible for everyone? (2 correct answers)',
                        options: ['Assign the app to a relevant business role', 'Assign the app to a relevant business catalog', 'Add the app to an SAP Fiori Launchpad Page'],
                        correctIndex: [1,2],
                        explanation: "Pour rendre une tuile visible, elle doit être ajoutée à un catalogue métier ('business catalog'), qui est ensuite attribué à un rôle métier ('business role')."
                    },
                    {
                        text: 'Which of the following are examples of in-app key user extensibility? (2 correct answers)',
                        options: ['An industry cloud app', 'A custom business object', 'A custom field', 'A custom mobile app'],
                        correctIndex: [1, 2],
                        explanation: "Les objets métier personnalisés ('Custom business object') et les champs personnalisés ('Custom field') sont les exemples classiques d'extensibilité 'In-app' par utilisateur clé."
                    },
                    {
                        text: '13-You\'ve created a custom app UI from a custom business object. How do you make sure it displays for end-users on the launchpad?',
                        options: ['Use the Custom Business Catalogs app to assign the app to a custom business catalog.', 'Use the Custom Catalog Extensions app to assign the app to an existing business catalog.', 'Use the Manage Launchpad Pages app to add the app to a launchpad page.', 'Use the Manage Launchpad Spaces app to add the app to a launchpad space.'],
                        correctIndex: [1,2],
                        explanation: "Une nouvelle application (créée à partir d'un objet métier personnalisé) doit être assignée à un nouveau catalogue métier via l'application 'Custom Business Catalogs' avant de pouvoir être utilisée."
                    },
                    {
                        text: 'Which tool do you use to add a field that already exists to an SAP Fiori app?',
                        options: ['Custom Logic app', 'Adapt UI within an app', 'Custom Fields app', 'Custom Tiles app'],
                        correctIndex: 1,
                        explanation: "Pour ajouter un champ préexistant à une interface utilisateur Fiori, vous utilisez la fonction 'Adapt UI' (Adapter l'IU) directement dans l'application, en tant qu'utilisateur clé."
                    },
                    {
                        text: '15-What is used to transport extensions built in the development tenant of the Development system to the Test system? (2 correct answers)',
                        options: ['Export Software Collection app', 'Transport Organizer app', 'Export Customizing Transports app', 'Import Collection app'],
                        correctIndex: [1, 3],
                        explanation: "L'exportation se fait avec 'Export Software Collection', et l'importation dans le système cible (Test) se fait avec 'Import Collection'."
                    },
                    {
                        text: 'Which app shows the capacity of business contexts for extensions?',
                        options: ['Extensibility Cockpit app', 'Extensibility Inventory app', 'Manage Launchpad Spaces app', 'Transport Organizer'],
                        correctIndex: 0,
                        explanation: "L'application 'Extensibility Cockpit' (Cockpit d'Extensibilité) est l'outil principal pour surveiller l'état général et la capacité d'extension."
                    },
                    {
                        text: 'Which app is used to track who last made changes to an extension and whether it has been exported/imported?',
                        options: ['Extensibility Explorer', 'Extensibility Inventory app', 'Extensibility Cockpit app', 'Maintain Form Templates'],
                        correctIndex: 1,
                        explanation: "L'application 'Extensibility Inventory' (Inventaire d'Extensibilité) permet de suivre l'historique des modifications, les auteurs et les statuts de transport des extensions."
                    },
                    {
                        text: 'Which import type in the Import Collection app indicates risk of disruption to users?',
                        options: ['Manual (forecast)', 'Automatic (scheduled)', 'Manual', 'Business Interruption column'],
                        correctIndex: 3,
                        explanation: "La colonne 'Business Interruption' (Interruption Commerciale) dans l'application 'Import Collection' est l'indicateur clé du risque pour les utilisateurs lors de l'importation."
                    },
                    {
                        text: 'Which tool is used to transport developer extensibility (ABAP) objects?',
                        options: ['Export Software Collection', 'Transport Organizer', 'Import Collection', 'Extensibility Cockpit'],
                        correctIndex: 0,
                        explanation: "Pour les objets de développement ABAP, on utilise l'application 'Export Software Collection' (Collection de Logiciels à Exporter)."
                    },
                    {
                        text: 'Which SAP BTP tool is primarily used for no/low-code development?',
                        options: ['SAP Build', 'SAP Business Application Studio', 'SAP Signavio', 'SAP Analytics Cloud'],
                        correctIndex: 0,
                        explanation: "'SAP Build' est la suite d'outils no/low-code de SAP BTP."
                    },
                ]
            },
            {
                id: 't10',
                title: 'Chapitre 10: Configuration des intégrations FI',
                questions: [
                    {
                        text: 'In which SAP Activate phase are initial integration requirements captured?',
                        options: ['Realize', 'Discover', 'Deploy', 'Prepare'],
                        correctIndex: 1,
                        explanation: "Les exigences d'intégration initiales (high-level) sont collectées dès la phase 'Discover' (Découverte)."
                    },
                    {
                        text: 'Where are finalized integration requirements documented after Fit-to-Standard workshops?',
                        options: ['SAP Signavio Process Navigator', 'SAP Cloud ALM - Requirements app', 'SAP Help Portal', 'SAP Best Practices Explorer'],
                        correctIndex: 1,
                        explanation: "Les exigences (y compris les intégrations) sont documentées dans l'application 'Requirements' (Exigences) de SAP Cloud ALM, après les ateliers Fit-to-Standard."
                    },
                    {
                        text: 'Which resource provides prepackaged integration content and APIs for SAP and partner solutions?',
                        options: ['SAP Community', 'SAP Business Accelerator Hub', 'SAP Discovery Center', 'SAP Cloud ALM'],
                        correctIndex: 1,
                        explanation: "Le 'SAP Business Accelerator Hub' est la source officielle pour le contenu d'intégration pré-packagé, les APIs et les événements."
                    },
                    {
                        text: 'In which principle of SAP\'s integration strategy is the Integration Solution Advisory Methodology (ISA-M)?',
                        options: ['Out-of-the-box integration', 'Open integration', 'Holistic integration', 'AI-driven integration'],
                        correctIndex: 2,
                        explanation: "L'ISA-M fait partie du principe d'intégration 'Holistic integration' (Intégration Holistique), qui couvre l'ensemble du paysage informatique."
                    },
                    {
                        text: 'Which SAP Integration Suite capability estimates the effort to migrate from SAP Process Orchestration to SAP Integration Suite?',
                        options: ['Cloud Integration', 'Migration Assessment', 'API Management', 'Open Connectors'],
                        correctIndex: 1,
                        explanation: "Le service 'Migration Assessment' est conçu spécifiquement pour évaluer la complexité et l'effort de migration des intégrations existantes."
                    },
                    {
                        text: 'Which capability of the SAP Integration Suite proposes efficient integration interfaces for B2B scenarios using ML?',
                        options: ['Integration Advisor', 'Trading Partner Management', 'Event Mesh'],
                        correctIndex: 0,
                        explanation: "L''Integration Advisor' utilise le Machine Learning (ML) pour recommander et générer des mappages et des interfaces d'intégration efficaces pour les scénarios B2B."
                    },
                    {
                        text: 'Which SAP Integration Suite capability enables secure event-driven communication between apps?',
                        options: ['Open Connectors', 'SAP Event Mesh', 'API Management', 'Cloud Integration'],
                        correctIndex: 1,
                        explanation: "'SAP Event Mesh' est le service de messagerie qui permet la communication asynchrone et événementielle ('event-driven') entre les applications."
                    },
                    {
                        text: 'Which service enables integration between SAP public cloud and on-premise systems through a secure tunnel?',
                        options: ['SAP Connectivity Service', 'SAP Event Mesh', 'API Management', 'Trading Partner Management'],
                        correctIndex: 0,
                        explanation: "Le 'SAP Connectivity Service' (via Cloud Connector) établit un tunnel sécurisé entre les solutions Cloud et les systèmes On-Premise."
                    },
                    {
                        text: 'What are the three types of tasks in Cloud Integration Automation Service (CIAS)? (3 correct answers)',
                        options: ['Automated', 'Semi-automated', 'Manual', 'Predictive'],
                        correctIndex: [0, 1, 2],
                        explanation: "CIAS catégorise les tâches d'intégration en 'Automated' (Automatisées), 'Semi-automatisées' (Semi-automatisées) et 'Manual' (Manuelles)."
                    },
                    {
                        text: 'Where can you access the Cloud Integration Automation Service (CIAS)? (2 correct answers)',
                        options: ['SAP Cloud ALM', 'SAP for Me', 'SAP Signavio Process Navigator', 'SAP Discovery Center'],
                        correctIndex: [0, 1],
                        explanation: ""
                    },
                    {
                        text: '11-What is required to set up SAP Best Practices integrations in SAP S/4HANA Cloud Public Edition? (2 correct answers)',
                        options: ['Communication Scenario', 'Communication Arrangement', 'Technical User', 'Communication System'],
                        correctIndex: [ 1,3], // Sticking to the 2 correct answers marked in the PDF for consistency
                        explanation: "Pour configurer les intégrations 'Best Practices', il faut définir un 'Communication Scenario' (Scénario de communication) et un 'Communication Arrangement' (Accord de communication)."
                    },
                    {
                        text: '12-What is a Communication User in SAP S/4HANA Cloud?',
                        options: ['A named business user', 'A technical user for authentication', 'An integration package', 'A role in SAP Cloud ALM'],
                        correctIndex: 1,
                        explanation: "Un 'Communication User' (Utilisateur de communication) est un utilisateur technique dédié à l'authentification des systèmes externes et non une personne physique."
                    },
                    {
                        text: 'Which types of authentication can be defined for a Communication User? (2 correct answers)',
                        options: ['Basic authentication with password', 'Certificate-based authentication (SSL)', 'OAuth 2.0 mTLS', 'SAML'],
                        correctIndex: [0, 1],
                        explanation: "Les utilisateurs de communication peuvent être authentifiés par 'Basic authentication' (mot de passe) ou par certificat ('Certificate-based authentication')."
                    },
                    {
                        text: '14-Where can you access the Cloud Integration Automation Service (CIAS) tool? (3 correct answers)',
                        options: ['Fiori Launchpad in SAP S/4HANA Cloud Public Edition', 'SAP Cloud ALM', 'SAP Discovery Center', 'SAP for Me'],
                        correctIndex: [0, 2, 3], // The PDF marks 3 correct answers. Option 0 is not correct.
                        explanation: ""
                    },
                    {
                        text: '15-Where can you find SAP Best Practices integration scenarios? (3 correct answers)',
                        options: ['SAP Best Practices Explorer', 'SAP Signavio Process Navigator', 'SAP Help Portal', 'SAP Community', 'Cloud Integration Automation Service'],
                        correctIndex: [1, 2,4], // The PDF marks the first 3 as correct answers
                        explanation: "Les scénarios d'intégration 'Best Practices' sont disponibles dans 'SAP Best Practices Explorer', 'SAP Signavio Process Navigator' et le 'SAP Help Portal'."
                    },
                    {
                        text: '16-Which SAP Fiori app is used to define inbound/outbound services later consumed in a Communication Arrangement?',
                        options: ['Custom Communication Scenarios', 'Enterprise Event Enablement', 'Maintain Extensions on SAP BTP', 'Custom Catalog Extensions'],
                        correctIndex: 1,
                        explanation: "L'application 'Custom Communication Scenarios' (Scénarios de communication personnalisés) est utilisée pour créer les scénarios requis par les accords de communication."
                    },
                    {
                        text: '17-Which SAP Fiori app is used to publish events from S/4HANA Cloud to SAP BTP?',
                        options: ['Enterprise Event Enablement', 'Custom Tiles', 'Custom Catalog Extensions', 'Extensibility Inventory'],
                        correctIndex: 0,
                        explanation: "L'application 'Enterprise Event Enablement' (Activation d'événements d'entreprise) est utilisée pour gérer les événements (comme les changements de statut de documents) publiés vers BTP."
                    },
                    {
                        text: '18-Which app is used to connect or disable extensions from SAP BTP in SAP S/4HANA Cloud?',
                        options: ['Maintain Extensions on SAP BTP', 'Custom Tiles', 'Extensibility Cockpit', 'Requirements app'],
                        correctIndex: 0,
                        explanation: "."
                    },
                    {
                        text: 'Which SAP Fiori app is used to create tiles that point to external websites?',
                        options: ['Custom Tiles', 'Custom Catalog Extensions', 'Extensibility Inventory', 'Fiori Apps Library'],
                        correctIndex: 0,
                        explanation: "L'application 'Custom Tiles' (Tuiles Personnalisées) permet de créer des tuiles pour lancer des liens externes."
                    },
                    {
                        text: '20-Which capabilities are included in SAP Cloud ALM for Operations? (3 correct answers)',
                        options: ['Issues & Action Management', 'Integration & Exception Monitoring', 'Project Tracking & Traceability', 'Configuration & Security Analysis'],
                        correctIndex: [1, 2, 3],
                        explanation: ""
                    },
                ]
            },
            {
        id: 't11',
        title: 'Chapitre 11: MIGRATION DE DONNÉES',
        questions: [
            {
                text: 'Which SAP Fiori app is used to access the SAP S/4HANA Migration Cockpit?',
                options: ['Manage Migration Projects', 'Migrate Your Data', 'Data Migration Status', 'Manage Extensions'],
                correctIndex: 1,
                explanation: "L'application actuelle et standard pour accéder au cockpit de migration dans l'édition Public Cloud est 'Migrate Your Data'. L'ancienne application s'appelait 'Manage Migration Projects'."
            },
            {
                text: 'How is data transferred between an existing SAP system and the target SAP S/4HANA Cloud Public Edition system?',
                options: ['OData APIs', 'Remote Function Call (RFC)', 'SOAP APIs'],
                correctIndex: 1,
                explanation: "Pour le transfert direct depuis un système SAP existant, la technologie sous-jacente utilisée pour connecter les systèmes est le 'Remote Function Call' (RFC)."
            },
            {
                text: 'Which two procedures are available for filling staging tables in the Migration Cockpit? (2 correct answers)',
                options: ['Local SAP S/4HANA Database Schema', 'Remote SAP HANA Database Schema', 'SAP Datasphere Integration', 'Core Data Services'],
                correctIndex: [0, 1],
                explanation: "Les tables de staging peuvent être remplies soit via le schéma de base de données local (intégré au système S/4HANA), soit via un schéma de base de données SAP HANA distant (sur SAP BTP)."
            },
            {
                text: 'You migrated data using a remote SAP HANA database. What prerequisite setup is required?',
                options: ['Communication Arrangement', 'SAP HANA Cloud subscription', 'Business Partner replication', 'Migration Advisor'],
                correctIndex: 1,
                explanation: "Pour utiliser l'option 'Remote SAP HANA Database Schema', vous devez disposer d'une souscription valide à SAP HANA Cloud pour héberger cette base de données intermédiaire."
            },
            {
                text: 'You tried to migrate data for a business object, but the migration failed. What are some reasons the migration could have failed? (2 correct answers)',
                options: ['You didn’t simulate the migration before migrating the data.', 'A predecessor object wasn’t migrated.', 'You don’t have the required business role to migrate the data.', 'You assigned more than one migration object to the project.'],
                correctIndex: [0, 1],
                explanation: "Les échecs sont souvent dus à des dépendances non respectées (ex: migrer des commandes avant les clients) ou à l'absence de simulation préalable qui aurait détecté les erreurs de données."
            },
            {
                text: 'What is the maximum file size accepted by the Migration Cockpit for a migration template?',
                options: ['50 MB', '100 MB', '200 MB', '500 MB'],
                correctIndex: 1,
                explanation: "La limite standard de taille de fichier pour les modèles XML de migration est de 100 Mo. Pour des volumes plus importants, on utilise généralement des tables de staging."
            },
            {
                text: 'Which framework supports you to receive a notification when a migration object has completed the Migration step of the guided migration process?',
                options: ['Responsibility Management Framework', 'In-App Notification Framework', 'Situation Handling Framework', 'Extensibility Framework'],
                correctIndex: 2,
                explanation: "Le 'Situation Handling Framework' est utilisé pour envoyer des notifications proactives aux utilisateurs, par exemple lorsqu'un job de migration est terminé ou nécessite une attention."
            },
            {
                text: 'Which functionality enables you to capture information including source values, target values after mapping, and target IDs that could be used to audit your migrated data?',
                options: ['SAP HANA Cloud Service', 'Migration Object Modeler', 'SAP Data Services', 'Extended Statistics'],
                correctIndex: 3,
                explanation: "La fonctionnalité 'Extended Statistics' (ou les logs d'audit détaillés dans le cockpit) permet de conserver une trace des valeurs sources, du mapping et des IDs générés pour des raisons d'audit."
            },
            {
                text: 'You migrated data from a legacy DB to the target SAP S/4HANA Cloud using a remote HANA DB. Which data migration procedure did you use? (2 correct answers)',
                options: ['Local SAP S/4HANA Database Schema', 'Remote SAP HANA Database Schema', 'Direct connection to an SAP system', 'Migration using staging tables'],
                correctIndex: [1, 3],
                explanation: "Dans ce scénario, vous utilisez la méthode des tables de staging ('Migration using staging tables') et spécifiquement l'option de base de données distante ('Remote SAP HANA Database Schema')."
            },
            {
                text: 'Which tasks are included in the guided migration procedure? (3 correct answers)',
                options: ['Create migration project', 'Simulate migration', 'Configure OData services', 'Close project'],
                correctIndex: [0, 1, 3],
                explanation: "Le processus global inclut la création du projet, la simulation de la migration (étape critique de validation) et la clôture du projet une fois terminé."
            },
            {
                text: 'What framework does the Data Migration Status app use to notify users?',
                options: ['Responsibility Management', 'Situation Handling', 'Workflow Rules', 'API Triggers'],
                correctIndex: 1,
                explanation: "Tout comme pour le cockpit de migration, l'application 'Data Migration Status' s'appuie sur le 'Situation Handling' pour les notifications."
            },
            {
                text: 'You need to add an additional field to a migration object template. What are your options? (2 correct answers)',
                options: ['Developer extensibility for any migration object', 'A custom field using the extensibility framework', 'Submit a case via SAP for Me', 'Migration Object Modeler for supported objects'],
                correctIndex: [1, 3],
                explanation: "Vous pouvez ajouter des champs via l'application 'Custom Fields' (Extensibility Framework) ou modifier la structure de l'objet de migration via le 'Migration Object Modeler'."
            },
            {
                text: 'What types of permission do you need to migrate data for a migration object? (2 correct answers)',
                options: ['Permission to access the Migrate Your Data app', 'Permission to migrate data for the specific object', 'Permission to migrate all data types in the customizing tenant', 'Permission to migrate all data types in the dev tenant'],
                correctIndex: [0, 1],
                explanation: "L'utilisateur doit avoir accès à l'application globale 'Migrate Your Data' ET avoir les autorisations spécifiques pour l'objet métier concerné (ex: créer des Fournisseurs)."
            },
            {
                text: 'Which SAP Fiori app provides a summary of the status of all migration objects?',
                options: ['Manage Migration Projects', 'Data Migration Status', 'Monitor Jobs', 'Extended Statistics'],
                correctIndex: 1,
                explanation: "L'application 'Data Migration Status' est conçue pour donner une vue d'ensemble (dashboard) de l'avancement et du statut de tous les objets de migration."
            },
            {
                text: 'Which options are available for mapping values in the guided migration process? (2 correct answers)',
                options: ['Value mapping', 'Fixed value mapping', 'Currency conversion', 'Translation mapping'],
                correctIndex: [0, 1],
                explanation: "Les options principales de mapping sont le 'Value mapping' (correspondance source-cible) et le 'Fixed value mapping' (assigner une constante par défaut)."
            },
            {
                text: 'Which app do you use to enhance migration objects when migrating with staging tables?',
                options: ['Model Your Migration Objects – Migration Object Modeler', 'Implementation Activities', 'Manage Migration Projects', 'Extensibility Cockpit'],
                correctIndex: 0,
                explanation: "Le 'Migration Object Modeler' (LTMOM) est l'outil technique utilisé pour adapter et étendre les objets de migration standards."
            },
            {
                text: 'Which business role is required to use the Migration Object Modeler for staging table migrations?',
                options: ['SAP_BR_ADMINISTRATOR', 'SAP_BR_BPC_EXPERT', 'SAP_BR_CONFIG_EXPERT', 'SAP_BR_DEVELOPER'],
                correctIndex: 2,
                explanation: "Le rôle 'SAP_BR_CONFIG_EXPERT' (Expert en configuration) est généralement requis pour accéder aux outils de modélisation de la migration."
            },
            {
                text: 'Which app is used to enhance migration objects when migrating via Direct Transfer from SAP systems?',
                options: ['Implementation Activities', 'Migration Object Modeler', 'Manage Migration Projects', 'Data Migration Status'],
                correctIndex: 1,
                explanation: "Que ce soit pour les tables de staging ou le transfert direct, l'outil pour améliorer ou modifier les objets est toujours le 'Migration Object Modeler'."
            },
            {
                text: 'Which framework supports you to receive a notification when a migration object has completed the Migration step of the guided migration process?',
                options: ['Responsibility Management Framework', 'In-App Notification Framework', 'Situation Handling Framework', 'Extensibility Framework'],
                correctIndex: 2,
                explanation: "Répétition de la question sur le framework de notification : c'est toujours le 'Situation Handling Framework'."
            },
            {
                text: 'Which SAP service offers expert-led workshops to design or review a customer’s data migration concept?',
                options: ['SAP Community', 'SAP Value Assurance – Data Migration Design Support', 'SAP Signavio'],
                correctIndex: 1,
                explanation: "Les services 'SAP Value Assurance' proposent des supports spécifiques comme le 'Data Migration Design Support' pour aider à concevoir la stratégie de migration."
            }
        ]
    },
    {
        id: 't12',
        title: 'Chapitre 12: Tester les processus métier configurés - FI',
        questions: [
            {
                text: 'In which SAP Activate phase are Implementation tests typically executed?',
                options: ['Realize', 'Discover', 'Deploy', 'Prepare'],
                correctIndex: 0,
                explanation: "Les tests d'implémentation (unitaires, string) se déroulent principalement durant la phase 'Realize' (Réalisation), pendant la configuration."
            },
            {
                text: 'Which types of tests are considered informal and executed organically during configuration? (2 correct answers)',
                options: ['Unit tests', 'String tests', 'End-to-end process tests', 'Regression tests'],
                correctIndex: [0, 1],
                explanation: "Les tests unitaires (une fonction) et les tests de chaîne ('String tests' - quelques étapes liées) sont souvent informels et faits par le consultant pendant qu'il configure."
            },
            {
                text: 'Which group of users typically executes User Acceptance Tests (UAT)?',
                options: ['Partner LoB configuration experts', 'Customer LoB experts', 'SAP consultants', 'Tricentis administrators'],
                correctIndex: 1,
                explanation: "L'UAT (Recette Utilisateur) doit être exécuté par les experts métier du client ('Customer LoB experts') pour valider que la solution répond à leurs besoins."
            },
            {
                text: 'In which app are manual test cases created for UAT?',
                options: ['Test Preparation', 'Test Plan', 'Test Execution', 'Manage Upgrade Tests'],
                correctIndex: 0,
                explanation: "L'application 'Test Preparation' permet de créer et définir les cas de test manuels."
            },
            {
                text: 'What does a test plan enable you to do in SAP Cloud ALM? (2 correct answers)',
                options: ['Group multiple test cases together', 'Assign test cases to specific testers', 'Automate regression tests', 'Transport test cases between tenants'],
                correctIndex: [0, 1],
                explanation: "Un plan de test sert à regrouper plusieurs cas de test et à les assigner aux testeurs pour une campagne de test spécifique."
            },
            {
                text: 'How do you capture a value, error message, or label that is static on the screen when recording new actions?',
                options: ['Capture button', 'Read button', 'Check button', 'Copy button'],
                correctIndex: 2,
                explanation: "Dans l'outil d'automatisation, le bouton 'Check' est utilisé pour vérifier la présence d'un message statique ou d'une étiquette (Label) à l'écran."
            },
            {
                text: 'Which button should be used to capture a non-error value on the screen?',
                options: ['Capture button', 'Read button', 'Check button', 'Copy button'],
                correctIndex: 1,
                explanation: "Le bouton 'Read' est utilisé pour lire et capturer une valeur dynamique (non-erreur) affichée à l'écran lors du test."
            },
            {
                text: 'Where can you customize the scope of a post-upgrade test?',
                options: ['Test Your Processes app', 'Manage Your Test Processes app', 'Analyze Automated Test Results app', 'Manage Upgrade Tests app'],
                correctIndex: 3,
                explanation: "L'application 'Manage Upgrade Tests' permet de définir quels processus doivent être testés après une mise à jour (Upgrade)."
            },
            {
                text: 'If a test plan isn’t displaying in the Test Execution app, what could be the issue?',
                options: ['Not assigned to a test user', 'Missing start/end dates', 'Status is “In Testing”', 'The test plan status is In Preparation.'],
                correctIndex: 3,
                explanation: "Si le statut du plan de test est encore 'In Preparation', il n'est pas visible pour l'exécution. Il doit être passé au statut adéquat (ex: 'In Testing')."
            },
            {
                text: 'What type of test user is used in the Test Automation Tool for integration scenarios? (Choose the correct answer)',
                options: ['Business User', 'Communication User', 'Conditional Authentication User'],
                correctIndex: 1,
                explanation: "Les scénarios d'intégration nécessitent un 'Communication User' (utilisateur technique) pour gérer les échanges de données entre systèmes."
            },
            {
                text: 'Which app contains the preconfigured test automates?',
                options: ['Manage Your Test Processes app', 'Test Your Processes app', 'Analyze Automated Test Results app', 'Test Preparation app'],
                correctIndex: 0,
                explanation: "L'application 'Manage Your Test Processes' contient la bibliothèque de processus de test standards et préconfigurés par SAP."
            },
            {
                text: 'Which type of test is executed in the Run phase to verify upgrades?',
                options: ['Implementation tests', 'End-to-end tests', 'User acceptance tests', 'Regression tests'],
                correctIndex: 3,
                explanation: "En phase 'Run' (Exploitation), on exécute des tests de régression pour s'assurer que les mises à jour n'ont pas cassé les fonctionnalités existantes."
            },
            {
                text: '13-Where can you change the default test user for a process step?',
                options: ['Test Your Processes app', 'Manage Your Test Processes app', 'Analyze Automated Test Results app', 'Manage Upgrade Tests app'],
                correctIndex: 1,
                explanation: "Dans 'Test Your Processes', vous pouvez adapter les données de test (Test Data Container) et changer l'utilisateur assigné aux étapes."
            },
            {
                text: 'What type of tests are displayed in the Analyze Automated Test Results app? (2 correct answers)',
                options: ['Tricentis tests', 'Customer-specific tests', 'Manual tests', 'Post-upgrade tests'],
                correctIndex: [1, 3],
                explanation: "Cette application affiche les résultats des tests automatisés, qu'ils soient spécifiques au client ('Customer-specific') ou liés aux upgrades ('Post-upgrade')."
            },
            {
                text: 'Which functionality ensures test automates have always available data to run?',
                options: ['Test Variants', 'Test Data Containers', 'Extended Statistics', 'Migration Object Modeler'],
                correctIndex: 1,
                explanation: "Les 'Test Data Containers' (TDC) centralisent et fournissent les données nécessaires pour que les tests automatisés puissent s'exécuter de manière fiable."
            },
            {
                text: '16-Where do you provide consent for SAP to run post-upgrade tests?',
                options: ['Manage Upgrade Tests app', 'Test Your Processes app', 'Manage Your Test Processes app', 'Test Preparation app'],
                correctIndex: 1,
                explanation: "Le consentement pour l'exécution automatique des tests post-upgrade se donne dans l'application 'Manage Upgrade Tests'."
            },
            {
                text: 'Which app provides dashboards and screenshots of failed automated steps?',
                options: ['Test Preparation app', 'Manage Upgrade Tests app', 'Analyze Automated Test Results app', 'Manage Your Test Processes app'],
                correctIndex: 2,
                explanation: "L'application 'Analyze Automated Test Results' fournit les détails d'exécution, y compris les captures d'écran en cas d'échec pour faciliter l'analyse."
            },
            {
                text: 'Which SAP service refreshes production data into the test system?',
                options: ['Data Migration Service', 'Test Data Refresh Service', 'SAP HANA Smart Data Access', 'Extended Statistics'],
                correctIndex: 1,
                explanation: "Le 'Test Data Refresh Service' permet de rafraîchir le système de qualité (Q) avec des données récentes issues de la production (P)."
            },
            {
                text: 'What is the primary use case of Tricentis Test Automation for SAP with SAP Cloud ALM?',
                options: ['Automating regression tests in S/4HANA Cloud', 'Automating cross-system integration tests', 'Managing manual UAT tests', 'Migrating custom data'],
                correctIndex: 1,
                explanation: "Tricentis est principalement positionné pour automatiser les tests complexes de bout en bout (End-to-End) qui traversent plusieurs systèmes (Cross-system)."
            },
            {
                text: 'Where do you set-up Tricentis Test Automation?',
                options: ['SAP S/4HANA Cloud Public Edition', 'SAP Cloud Identity', 'SAP Cloud ALM'],
                correctIndex: 2,
                explanation: "La configuration et l'intégration de l'outil Tricentis se font au niveau de la plateforme SAP Cloud ALM."
            }
        ]
    }
        ];

        let currentChapterId = null;
        let score = 0;
        let totalQuestions = 0;
        let userAnswers = {}; // {questionIndex: selectedOptionIndex}

        // ----------------------------------------------------
        // 2. Fonctions d'Initialisation
        // ----------------------------------------------------

        /**
         * Construit la liste déroulante des chapitres.
         */
        function populateChapterSelect() {
            const select = document.getElementById('chapter-select');
            select.innerHTML = '<option value="" disabled selected>-- Choisissez un chapitre --</option>';
            quizData.forEach(chapter => {
                const option = document.createElement('option');
                option.value = chapter.id;
                option.textContent = chapter.title;
                select.appendChild(option);
            });

            select.addEventListener('change', (event) => {
                loadChapter(event.target.value);
            });
        }

        /**
         * Met à jour l'affichage du score.
         */
        function updateScoreDisplay() {
            document.getElementById('score-display').textContent = `Score : ${score} / ${totalQuestions}`;
        }

        /**
         * Charge et affiche les questions pour le chapitre sélectionné.
         * @param {string} chapterId - L'ID du chapitre à charger.
         */
        function loadChapter(chapterId) {
            const chapter = quizData.find(c => c.id === chapterId);
            if (!chapter) return;

            currentChapterId = chapterId;
            score = 0;
            totalQuestions = chapter.questions.length;
            userAnswers = {};

            const initialMessage = document.getElementById('initial-message');
            if (initialMessage) {
                 // Correction: Masquer le message initial s'il existe
                initialMessage.classList.add('hidden');
            }
            
            const container = document.getElementById('quiz-container');
            container.innerHTML = '';
            
            // Mise à jour du score avant l'affichage des questions
            updateScoreDisplay();

            chapter.questions.forEach((q, qIndex) => {
                const isMultiSelect = Array.isArray(q.correctIndex);
                const questionElement = document.createElement('div');
                questionElement.className = 'bg-white p-6 rounded-lg shadow-md border-t-4 border-blue-500 space-y-4';
                questionElement.id = `question-${qIndex}`;
                
                questionElement.innerHTML = `
                    <p class="text-lg font-semibold text-gray-800">Question ${qIndex + 1} (${isMultiSelect ? 'Choix multiples' : 'Choix unique'}) :</p>
                    <p class="text-xl font-bold text-blue-700">${q.text}</p>
                    <div id="options-${qIndex}" class="options-group space-y-3">
                        ${q.options.map((option, oIndex) => `
                            <div id="option-item-${qIndex}-${oIndex}" class="option-item flex items-center p-3 border border-gray-200 rounded-lg hover:bg-blue-50" 
                                onclick="selectOption(${qIndex}, ${oIndex}, ${isMultiSelect})">
                                <span class="text-blue-500 font-bold mr-3">${String.fromCharCode(65 + oIndex)}.</span>
                                <span class="text-gray-700 flex-1">${option}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div class="flex flex-col sm:flex-row justify-between pt-4 border-t mt-4">
                        <button onclick="checkAnswer(${qIndex})" 
                            class="check-button w-full sm:w-1/2 py-2 px-4 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg transition duration-150 mb-2 sm:mb-0 sm:mr-2">
                            Vérifier la Réponse
                        </button>
                        <button onmouseover="showExplanation(${qIndex})" onmouseout="hideExplanation(${qIndex})"
                            class="explanation-button w-full sm:w-1/2 py-2 px-4 bg-gray-500 hover:bg-gray-600 text-white font-semibold rounded-lg transition duration-150 relative">
                            Afficher Explication (Survoler)
                        </button>
                    </div>
                    <div id="explanation-container-${qIndex}" class="explanation-container mt-4 border border-blue-200 rounded-lg">
                        <p class="text-blue-800 font-medium">Explication :</p>
                        <p class="text-sm text-blue-700">${q.explanation}</p>
                    </div>
                `;
                container.appendChild(questionElement);
            });
        }

        // ----------------------------------------------------
        // 3. Logique du Quiz
        // ----------------------------------------------------

        /**
         * Gère la sélection d'une option de réponse.
         * @param {number} qIndex - Index de la question.
         * @param {number} oIndex - Index de l'option sélectionnée.
         * @param {boolean} isMultiSelect - Indique si c'est une question à choix multiples.
         */
        function selectOption(qIndex, oIndex, isMultiSelect) {
            const optionItem = document.getElementById(`option-item-${qIndex}-${oIndex}`);
            
            // Initialisation ou récupération du tableau des réponses sélectionnées
            let selectedOptions = userAnswers[qIndex] || [];
            if (!Array.isArray(selectedOptions)) {
                selectedOptions = [selectedOptions]; // Convertir en tableau si c'était un choix unique
            }

            if (isMultiSelect) {
                // Logique pour choix multiples (toggle)
                if (selectedOptions.includes(oIndex)) {
                    // Désélectionner
                    selectedOptions = selectedOptions.filter(i => i !== oIndex);
                    optionItem.classList.remove('bg-blue-200', 'border-blue-500');
                } else {
                    // Sélectionner
                    selectedOptions.push(oIndex);
                    optionItem.classList.add('bg-blue-200', 'border-blue-500');
                }
                userAnswers[qIndex] = selectedOptions;
            } else {
                // Logique pour choix unique (remplacer)
                const optionsGroup = document.getElementById(`options-${qIndex}`).children;
                // Désélectionner toutes les autres
                for (let i = 0; i < optionsGroup.length; i++) {
                    optionsGroup[i].classList.remove('bg-blue-200', 'border-blue-500');
                }
                // Sélectionner la nouvelle
                optionItem.classList.add('bg-blue-200', 'border-blue-500');
                userAnswers[qIndex] = oIndex;
            }
        }

        /**
         * Vérifie la réponse, affiche le résultat et met à jour le score.
         * @param {number} qIndex - Index de la question à vérifier.
         */
        function checkAnswer(qIndex) {
            const chapter = quizData.find(c => c.id === currentChapterId);
            if (!chapter) return;
            
            const q = chapter.questions[qIndex];
            const selected = userAnswers[qIndex];
            const isMultiSelect = Array.isArray(q.correctIndex);

            // Si aucune réponse n'est sélectionnée
            if (selected === undefined || (isMultiSelect && selected.length === 0)) {
                // NOTE: Using console.log instead of alert() to avoid blocking the iframe UI
                console.log("Veuillez sélectionner une réponse ou plus.");
                return;
            }

            // Calcul de la correction
            let isCorrect = false;
            if (isMultiSelect) {
                // Pour choix multiples : toutes les bonnes réponses sont sélectionnées, et aucune mauvaise n'est sélectionnée.
                const correctIndices = new Set(q.correctIndex);
                const selectedSet = new Set(selected);
                
                isCorrect = selectedSet.size === correctIndices.size && 
                            [...selectedSet].every(index => correctIndices.has(index));
            } else {
                // Pour choix unique
                isCorrect = selected === q.correctIndex;
            }
            
            // Mise à jour de l'interface utilisateur
            const optionsGroup = document.getElementById(`options-${qIndex}`).children;
            
            // Vérifier si la question a déjà été vérifiée pour éviter de compter le score plusieurs fois
            let scoreAlreadyCounted = optionsGroup[0].dataset.checked === 'true';

            // Retrait du point précédent si la question était déjà vérifiée et correcte
            if (scoreAlreadyCounted && optionsGroup[0].dataset.isCorrect === 'true') {
                score--; 
            }

            // Réinitialisation des classes (y compris la désélection de la couleur bleue)
            for (let i = 0; i < optionsGroup.length; i++) {
                optionsGroup[i].classList.remove('correct-answer', 'selected-wrong');
                // Optionnel: retirer la couleur bleue de sélection après vérification
                optionsGroup[i].classList.remove('bg-blue-200', 'border-blue-500'); 
            }

            // MISE À JOUR CRITIQUE POUR L'AFFICHAGE DE LA BONNE RÉPONSE (couleur verte)
            const correctIndicesArray = isMultiSelect ? q.correctIndex : [q.correctIndex];
            correctIndicesArray.forEach(correctIndex => {
                if (optionsGroup[correctIndex]) {
                    optionsGroup[correctIndex].classList.add('correct-answer');
                }
            });


            if (!isCorrect) {
                 // Mise en évidence des mauvaises sélections (couleur rouge)
                if (isMultiSelect) {
                    q.options.forEach((_, i) => {
                        const item = optionsGroup[i];
                        const isSelected = selected.includes(i);
                        const isCorrectOption = correctIndicesArray.includes(i);

                        if (isSelected && !isCorrectOption) {
                            item.classList.add('selected-wrong');
                        }
                    });
                } else if (selected !== undefined) {
                    // Choix unique et faux
                    optionsGroup[selected].classList.add('selected-wrong');
                }
            }
            

            // Mise à jour du score
            if (isCorrect) {
                score++;
            }

            // Mettre à jour l'état de la question
            optionsGroup[0].dataset.checked = 'true';
            optionsGroup[0].dataset.isCorrect = isCorrect.toString();


            // Finaliser l'affichage du score
            updateScoreDisplay();
            
            const button = document.querySelector(`#question-${qIndex} .check-button`);
            button.textContent = isCorrect ? '✅ Correct !' : '❌ Incorrect. Voir la bonne réponse.';
            button.classList.remove('bg-green-500', 'hover:bg-green-600', 'bg-red-500', 'hover:bg-red-600', 'bg-green-700', 'bg-red-700');
            button.classList.add(isCorrect ? 'bg-green-700' : 'bg-red-700');
            // Nous n'allons pas désactiver le bouton pour permettre de re-vérifier après une nouvelle sélection
            // button.disabled = true; 
        }

        // ----------------------------------------------------
        // 4. Logique de l'Explication (Popup/Survol)
        // ----------------------------------------------------

        /**
         * Affiche le contenu d'explication.
         * @param {number} qIndex - Index de la question.
         */
        function showExplanation(qIndex) {
            const explanationDiv = document.getElementById(`explanation-container-${qIndex}`);
            if (explanationDiv) { // Ajout d'une vérification
                explanationDiv.classList.add('explanation-show');
            }
        }

        /**
         * Masque le contenu d'explication.
         * @param {number} qIndex - Index de la question.
         */
        function hideExplanation(qIndex) {
            const explanationDiv = document.getElementById(`explanation-container-${qIndex}`);
            if (explanationDiv) { // Ajout d'une vérification
                explanationDiv.classList.remove('explanation-show');
            }
        }


        // ----------------------------------------------------
        // 5. Point d'entrée de l'Application
        // ----------------------------------------------------

        // Exécuté lorsque le DOM est chargé
        document.addEventListener('DOMContentLoaded', () => {
            populateChapterSelect();
            updateScoreDisplay();
        });

    </script>
</body>
</html>